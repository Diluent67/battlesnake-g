from snake_engine import Battlesnake
import time


def test_common_sense():
    # Common sense
    game_state = {"game":{"id":"7b0452d3-a738-4e19-be93-da148e2a1e53","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":18,"board":{"height":11,"width":11,"snakes":[{"id":"23a550b8-8365-41c3-a50c-ab311f034748","name":"Nightwing","latency":"514","health":84,"body":[{"x":7,"y":3},{"x":6,"y":3},{"x":5,"y":3},{"x":4,"y":3}],"head":{"x":7,"y":3},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"12a17dfe-093f-4e94-9308-e115daf95fad","name":"JonK2","latency":"15","health":88,"body":[{"x":6,"y":4},{"x":7,"y":4},{"x":8,"y":4},{"x":8,"y":3},{"x":9,"y":3}],"head":{"x":6,"y":4},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"e11cc612-fe9a-44ae-8e11-e1d53db78d49","name":"Rick2","latency":"116","health":92,"body":[{"x":7,"y":7},{"x":7,"y":6},{"x":8,"y":6},{"x":8,"y":7},{"x":9,"y":7}],"head":{"x":7,"y":7},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"61a555e3-c09f-424b-b132-706eff747d2c","name":"Rick3","latency":"146","health":82,"body":[{"x":9,"y":9},{"x":9,"y":8},{"x":10,"y":8}],"head":{"x":9,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"dd064945-98bf-4b08-8b27-7fd2d1c94e88","name":"JonK","latency":"31","health":86,"body":[{"x":5,"y":5},{"x":5,"y":6},{"x":5,"y":7},{"x":5,"y":8},{"x":5,"y":9}],"head":{"x":5,"y":5},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"ed3bda6b-5d39-4a18-9a2c-acd51ab70092","name":"JonK3","latency":"44","health":90,"body":[{"x":6,"y":10},{"x":7,"y":10},{"x":8,"y":10},{"x":8,"y":9},{"x":7,"y":9}],"head":{"x":6,"y":10},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":6,"y":5}],"hazards":[]},"you":{"id":"dd064945-98bf-4b08-8b27-7fd2d1c94e88","name":"JonK","latency":"31","health":86,"body":[{"x":5,"y":5},{"x":5,"y":6},{"x":5,"y":7},{"x":5,"y":8},{"x":5,"y":9}],"head":{"x":5,"y":5},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]
    # Opponent snakes dying
    game_state={"game":{"id":"e83a6556-7eae-4665-b71d-835fa6056af4","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":37,"board":{"height":11,"width":11,"snakes":[{"id":"498cd3f7-93d9-42dd-be6f-7f7cf46058a3","name":"JonK2","latency":"23","health":90,"body":[{"x":0,"y":9},{"x":0,"y":8},{"x":0,"y":7},{"x":1,"y":7},{"x":1,"y":8}],"head":{"x":0,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"b48d6565-fe7c-43c4-bafc-4793b78296ec","name":"JonK","latency":"23","health":100,"body":[{"x":7,"y":0},{"x":7,"y":1},{"x":7,"y":2},{"x":7,"y":3},{"x":7,"y":4},{"x":7,"y":4}],"head":{"x":7,"y":0},"length":6,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"3218a375-672d-4d88-8f65-6c322ce52951","name":"JonK3","latency":"27","health":97,"body":[{"x":0,"y":1},{"x":0,"y":2},{"x":0,"y":3},{"x":0,"y":4},{"x":0,"y":5}],"head":{"x":0,"y":1},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"397984e3-44e1-460a-a860-c5eeb91cb17f","name":"Rick4","latency":"119","health":67,"body":[{"x":9,"y":4},{"x":9,"y":5},{"x":9,"y":6},{"x":9,"y":7}],"head":{"x":9,"y":4},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"65068973-d99d-4cb7-9966-1c2d12f721cf","name":"Nightwing","latency":"136","health":100,"body":[{"x":1,"y":2},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":3},{"x":4,"y":3},{"x":4,"y":4},{"x":5,"y":4},{"x":5,"y":3},{"x":5,"y":2},{"x":5,"y":2}],"head":{"x":1,"y":2},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":2,"y":6}],"hazards":[]},"you":{"id":"65068973-d99d-4cb7-9966-1c2d12f721cf","name":"Nightwing","latency":"136","health":100,"body":[{"x":1,"y":2},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":3},{"x":4,"y":3},{"x":4,"y":4},{"x":5,"y":4},{"x":5,"y":3},{"x":5,"y":2},{"x":5,"y":2}],"head":{"x":1,"y":2},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]
    # Should've got food
    game_state = {"game":{"id":"8533c7c3-8372-4d85-acc4-4954d5c0aa4b","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":178,"board":{"height":11,"width":11,"snakes":[{"id":"30b31eb5-c9cf-48e7-9c40-b3824fff2cc3","name":"Nightwing","latency":"351","health":100,"body":[{"x":6,"y":8},{"x":5,"y":8},{"x":4,"y":8},{"x":3,"y":8},{"x":3,"y":7},{"x":2,"y":7},{"x":1,"y":7},{"x":0,"y":7},{"x":0,"y":6},{"x":0,"y":5},{"x":0,"y":4},{"x":0,"y":3},{"x":0,"y":2},{"x":1,"y":2},{"x":1,"y":3},{"x":1,"y":3}],"head":{"x":6,"y":8},"length":16,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"46b6ee1d-6ed1-472b-ab03-53fff9c83431","name":"JonK","latency":"23","health":96,"body":[{"x":9,"y":3},{"x":9,"y":2},{"x":9,"y":1},{"x":10,"y":1},{"x":10,"y":0},{"x":9,"y":0},{"x":8,"y":0},{"x":7,"y":0},{"x":6,"y":0},{"x":5,"y":0},{"x":4,"y":0},{"x":4,"y":1},{"x":4,"y":2},{"x":4,"y":3},{"x":4,"y":4},{"x":5,"y":4},{"x":6,"y":4},{"x":7,"y":4}],"head":{"x":9,"y":3},"length":18,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":9,"y":10},{"x":10,"y":9}],"hazards":[]},"you":{"id":"ad40b1ef-e988-45ab-a06d-ad3f0e060f91","name":"Glynn","latency":"135","health":88,"body":[{"x":6,"y":2},{"x":5,"y":2},{"x":4,"y":2}],"head":{"x":6,"y":2},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up", "right"]
    game_state = {"game":{"id":"2e5ebfcf-d9ec-4202-ab29-9f42f49cb027","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":40,"board":{"height":11,"width":11,"snakes":[{"id":"71595f3f-d14c-4ed3-b52a-33078d27f617","name":"JonK","latency":"25","health":78,"body":[{"x":7,"y":3},{"x":6,"y":3},{"x":6,"y":4},{"x":7,"y":4},{"x":8,"y":4},{"x":8,"y":5},{"x":9,"y":5}],"head":{"x":7,"y":3},"length":7,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"26b61672-c5fc-4544-bc30-abbe33ad8f51","name":"Einar","latency":"94","health":93,"body":[{"x":7,"y":7},{"x":6,"y":7},{"x":6,"y":6},{"x":6,"y":5},{"x":5,"y":5},{"x":5,"y":4}],"head":{"x":7,"y":7},"length":6,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}},{"id":"774bf06f-6db3-4be7-8a3d-71830239b4aa","name":"JonK2","latency":"22","health":98,"body":[{"x":4,"y":4},{"x":3,"y":4},{"x":2,"y":4},{"x":2,"y":3},{"x":2,"y":2},{"x":3,"y":2},{"x":4,"y":2},{"x":4,"y":1}],"head":{"x":4,"y":4},"length":8,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"0a632f8a-7d27-4ab3-80a7-6005b27ae717","name":"Nightwing","latency":"258","health":62,"body":[{"x":2,"y":8},{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7}],"head":{"x":2,"y":8},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"56833b6d-0925-44e2-a8d0-1777436c0694","name":"Matt","latency":"29","health":60,"body":[{"x":3,"y":1},{"x":2,"y":1},{"x":2,"y":0}],"head":{"x":3,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}},{"id":"7b81e55d-2bf2-4ac2-99fe-78597e98b7c1","name":"Glynn","latency":"27","health":62,"body":[{"x":7,"y":9},{"x":6,"y":9},{"x":6,"y":8},{"x":7,"y":8}],"head":{"x":7,"y":9},"length":4,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}}],"food":[{"x":8,"y":6},{"x":0,"y":7}],"hazards":[]},"you":{"id":"c421b7c4-4ed7-4d06-9967-e90f8108bbff","name":"Jesse","latency":"30","health":92,"body":[{"x":6,"y":6},{"x":6,"y":7},{"x":6,"y":6}],"head":{"x":6,"y":6},"length":3,"shout":"","squad":"","customizations":{"color":"#E04C07","head":"missile","tail":"nr-booster"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    game_state = {"game":{"id":"60e1b749-34f3-4558-9940-5a9f0e48a6cd","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":166,"board":{"height":11,"width":11,"snakes":[{"id":"2698362f-d048-48ac-9606-ca78e22e4099","name":"Einar","latency":"90","health":93,"body":[{"x":4,"y":0},{"x":5,"y":0},{"x":6,"y":0},{"x":7,"y":0},{"x":8,"y":0},{"x":9,"y":0},{"x":10,"y":0},{"x":10,"y":1},{"x":10,"y":2},{"x":10,"y":3},{"x":10,"y":4},{"x":10,"y":5},{"x":9,"y":5},{"x":9,"y":6},{"x":9,"y":7},{"x":9,"y":8},{"x":9,"y":9},{"x":8,"y":9},{"x":7,"y":9}],"head":{"x":4,"y":0},"length":19,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}},{"id":"70356921-27a0-4af4-8281-6eb38e35b574","name":"Nightwing","latency":"352","health":93,"body":[{"x":3,"y":7},{"x":3,"y":6},{"x":4,"y":6},{"x":4,"y":5},{"x":5,"y":5},{"x":6,"y":5},{"x":7,"y":5},{"x":7,"y":4},{"x":6,"y":4},{"x":6,"y":3},{"x":5,"y":3},{"x":5,"y":2},{"x":4,"y":2}],"head":{"x":3,"y":7},"length":13,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":0,"y":8}],"hazards":[]},"you":{"id":"47141202-b764-4bfe-8e80-d821b1b4faab","name":"JonK","latency":"31","health":93,"body":[{"x":6,"y":9},{"x":6,"y":10},{"x":7,"y":10},{"x":8,"y":10},{"x":9,"y":10},{"x":10,"y":10}],"head":{"x":6,"y":9},"length":6,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["right"]
    # Weird bug when thinks that it killed someone else
    game_state = {"game":{"id":"ecc6480a-d6e0-4246-82b5-ecd0ddde42fe","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":5,"board":{"height":11,"width":11,"snakes":[{"id":"7c378bb2-2b43-4884-9add-1c356d38fb53","name":"Rick2","latency":"132","health":95,"body":[{"x":5,"y":6},{"x":4,"y":6},{"x":4,"y":5}],"head":{"x":5,"y":6},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"b7bb03b1-7d66-4555-a131-ba57ea4d78b2","name":"Rick3","latency":"197","health":95,"body":[{"x":6,"y":5},{"x":6,"y":4},{"x":5,"y":4}],"head":{"x":6,"y":5},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"6e80bf06-2f23-42ef-8858-aa451e9bf985","name":"JonK","latency":"31","health":99,"body":[{"x":2,"y":9},{"x":2,"y":10},{"x":3,"y":10},{"x":4,"y":10},{"x":4,"y":9}],"head":{"x":2,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"e66d7b64-56f2-4dbf-8c36-2c1dc69e5b9d","name":"JonK3","latency":"24","health":97,"body":[{"x":8,"y":5},{"x":9,"y":5},{"x":10,"y":5},{"x":10,"y":6}],"head":{"x":8,"y":5},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"eef59f30-cc6c-4b3a-af09-00ad293463f0","name":"Rick4","latency":"166","health":97,"body":[{"x":1,"y":4},{"x":0,"y":4},{"x":0,"y":3},{"x":0,"y":2}],"head":{"x":1,"y":4},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"33ba4cb1-96a5-428c-b60d-2007520f822c","name":"Nightwing","latency":"245","health":97,"body":[{"x":5,"y":0},{"x":6,"y":0},{"x":7,"y":0},{"x":8,"y":0}],"head":{"x":5,"y":0},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"0fcc483a-f94b-4288-8ba5-62cb7dace466","name":"Rick","latency":"207","health":99,"body":[{"x":1,"y":6},{"x":0,"y":6},{"x":0,"y":7},{"x":0,"y":8}],"head":{"x":1,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"9ffa1148-34ab-422d-aa87-8b8ff3e52197","name":"JonK2","latency":"27","health":97,"body":[{"x":8,"y":7},{"x":9,"y":7},{"x":9,"y":8},{"x":10,"y":8}],"head":{"x":8,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":4,"y":0},{"x":5,"y":5},{"x":4,"y":2}],"hazards":[]},"you":{"id":"0fcc483a-f94b-4288-8ba5-62cb7dace466","name":"Rick","latency":"207","health":99,"body":[{"x":1,"y":6},{"x":0,"y":6},{"x":0,"y":7},{"x":0,"y":8}],"head":{"x":1,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    # START OF GAME GET FOOD FIRST
    game_state = {"game":{"id":"2e5ebfcf-d9ec-4202-ab29-9f42f49cb027","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":0,"board":{"height":11,"width":11,"snakes":[{"id":"71595f3f-d14c-4ed3-b52a-33078d27f617","name":"JonK","latency":"0","health":100,"body":[{"x":5,"y":9},{"x":5,"y":9},{"x":5,"y":9}],"head":{"x":5,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"26b61672-c5fc-4544-bc30-abbe33ad8f51","name":"Einar","latency":"0","health":100,"body":[{"x":9,"y":5},{"x":9,"y":5},{"x":9,"y":5}],"head":{"x":9,"y":5},"length":3,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}},{"id":"774bf06f-6db3-4be7-8a3d-71830239b4aa","name":"JonK2","latency":"0","health":100,"body":[{"x":5,"y":1},{"x":5,"y":1},{"x":5,"y":1}],"head":{"x":5,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"0a632f8a-7d27-4ab3-80a7-6005b27ae717","name":"Nightwing","latency":"0","health":100,"body":[{"x":1,"y":5},{"x":1,"y":5},{"x":1,"y":5}],"head":{"x":1,"y":5},"length":3,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"eef4ef01-a03d-439d-8e31-65cb20d7a1d9","name":"Rick","latency":"0","health":100,"body":[{"x":9,"y":1},{"x":9,"y":1},{"x":9,"y":1}],"head":{"x":9,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"56833b6d-0925-44e2-a8d0-1777436c0694","name":"Matt","latency":"0","health":100,"body":[{"x":1,"y":1},{"x":1,"y":1},{"x":1,"y":1}],"head":{"x":1,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}},{"id":"7b81e55d-2bf2-4ac2-99fe-78597e98b7c1","name":"Glynn","latency":"0","health":100,"body":[{"x":1,"y":9},{"x":1,"y":9},{"x":1,"y":9}],"head":{"x":1,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}},{"id":"c421b7c4-4ed7-4d06-9967-e90f8108bbff","name":"Jesse","latency":"0","health":100,"body":[{"x":9,"y":9},{"x":9,"y":9},{"x":9,"y":9}],"head":{"x":9,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#E04C07","head":"missile","tail":"nr-booster"}}],"food":[{"x":6,"y":10},{"x":10,"y":6},{"x":6,"y":0},{"x":0,"y":4},{"x":8,"y":0},{"x":2,"y":0},{"x":2,"y":10},{"x":8,"y":10},{"x":5,"y":5}],"hazards":[]},"you":{"id":"71595f3f-d14c-4ed3-b52a-33078d27f617","name":"JonK","latency":"0","health":100,"body":[{"x":5,"y":9},{"x":5,"y":9},{"x":5,"y":9}],"head":{"x":5,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    # Get food you dummy
    game_state = {"game":{"id":"d07d4832-3fbc-4df7-bc1f-84909baa01a2","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":14,"board":{"height":11,"width":11,"snakes":[{"id":"a8d162b1-df10-4523-829b-6c751989810c","name":"Rick3","latency":"168","health":94,"body":[{"x":9,"y":3},{"x":9,"y":2},{"x":10,"y":2},{"x":10,"y":3},{"x":10,"y":4}],"head":{"x":9,"y":3},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"c653eaec-5707-482a-abf2-702d6ba76fd7","name":"JonK","latency":"21","health":90,"body":[{"x":5,"y":5},{"x":5,"y":4},{"x":4,"y":4},{"x":4,"y":3},{"x":4,"y":2}],"head":{"x":5,"y":5},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"bbf93a5d-e566-49dd-81f6-3bea14ecc43e","name":"JonK3","latency":"21","health":97,"body":[{"x":3,"y":5},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":6},{"x":0,"y":7}],"head":{"x":3,"y":5},"length":6,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"5c1999e6-c1be-4593-839a-4c50cd971c20","name":"Rick4","latency":"166","health":94,"body":[{"x":4,"y":8},{"x":3,"y":8},{"x":3,"y":7},{"x":3,"y":6}],"head":{"x":4,"y":8},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"86b77068-eaf5-46ff-a934-be44318ca9ba","name":"Nightwing","latency":"249","health":100,"body":[{"x":9,"y":7},{"x":9,"y":6},{"x":8,"y":6},{"x":7,"y":6},{"x":7,"y":6}],"head":{"x":9,"y":7},"length":5,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"d4972a83-7849-4d3f-be9b-1208252347df","name":"Rick","latency":"157","health":86,"body":[{"x":7,"y":3},{"x":7,"y":4},{"x":8,"y":4}],"head":{"x":7,"y":3},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":10,"y":7}],"hazards":[]},"you":{"id":"a8d162b1-df10-4523-829b-6c751989810c","name":"Rick3","latency":"168","health":94,"body":[{"x":9,"y":3},{"x":9,"y":2},{"x":10,"y":2},{"x":10,"y":3},{"x":10,"y":4}],"head":{"x":9,"y":3},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    game_state={"game":{"id":"a6f9bda0-7c74-480c-b6b3-613090ca0a04","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":66,"board":{"height":11,"width":11,"snakes":[{"id":"5b3eb748-b5fd-491a-a6a3-9c4bbcd1594c","name":"JonK","latency":"24","health":88,"body":[{"x":6,"y":4},{"x":6,"y":3},{"x":5,"y":3},{"x":5,"y":4},{"x":5,"y":5},{"x":5,"y":6},{"x":4,"y":6},{"x":3,"y":6}],"head":{"x":6,"y":4},"length":8,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"14216d48-a339-44e2-a483-d4175f4bcba6","name":"Nightwing","latency":"509","health":83,"body":[{"x":3,"y":7},{"x":3,"y":8},{"x":2,"y":8},{"x":1,"y":8},{"x":1,"y":7},{"x":2,"y":7},{"x":2,"y":6},{"x":2,"y":5},{"x":2,"y":4},{"x":2,"y":3},{"x":1,"y":3}],"head":{"x":3,"y":7},"length":11,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"7004bdc9-3d20-4769-a1b7-157a3d26abb7","name":"Rick","latency":"116","health":92,"body":[{"x":5,"y":7},{"x":6,"y":7},{"x":6,"y":8},{"x":7,"y":8},{"x":8,"y":8},{"x":8,"y":7}],"head":{"x":5,"y":7},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"6170454d-dd12-44fd-87bb-7b0a5c11cdd1","name":"Matt","latency":"30","health":99,"body":[{"x":10,"y":4},{"x":10,"y":3},{"x":9,"y":3},{"x":9,"y":2},{"x":9,"y":1}],"head":{"x":10,"y":4},"length":5,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}}],"food":[{"x":4,"y":7}],"hazards":[]},"you":{"id":"60a2c9a4-31b0-4235-a955-8473518e301a","name":"Jesse","latency":"39","health":78,"body":[{"x":5,"y":11},{"x":5,"y":10},{"x":6,"y":10}],"head":{"x":5,"y":11},"length":3,"shout":"","squad":"","customizations":{"color":"#E04C07","head":"missile","tail":"nr-booster"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    # Compete for food
    game_state={"game":{"id":"00710511-bf5c-4e85-904a-df549dac1771","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":67,"board":{"height":11,"width":11,"snakes":[{"id":"57622d88-67b9-4c41-851e-885b4e1e3458","name":"JonK","latency":"17","health":98,"body":[{"x":9,"y":4},{"x":10,"y":4},{"x":10,"y":3},{"x":9,"y":3},{"x":9,"y":2},{"x":8,"y":2},{"x":8,"y":1},{"x":7,"y":1},{"x":7,"y":2},{"x":7,"y":3},{"x":7,"y":4}],"head":{"x":9,"y":4},"length":11,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"d69db821-edc0-46f3-bc4c-b33a089ae8d9","name":"Rick4","latency":"119","health":86,"body":[{"x":2,"y":9},{"x":2,"y":8},{"x":2,"y":7},{"x":2,"y":6},{"x":3,"y":6},{"x":4,"y":6},{"x":4,"y":7},{"x":3,"y":7},{"x":3,"y":8}],"head":{"x":2,"y":9},"length":9,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"06d686e4-8e57-4847-83d4-cfe8e55ecf3c","name":"Nightwing","latency":"145","health":90,"body":[{"x":6,"y":7},{"x":5,"y":7},{"x":5,"y":6},{"x":5,"y":5},{"x":5,"y":4},{"x":4,"y":4},{"x":3,"y":4},{"x":3,"y":3},{"x":3,"y":2},{"x":2,"y":2}],"head":{"x":6,"y":7},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":4,"y":10},{"x":4,"y":8}],"hazards":[]},"you":{"id":"57622d88-67b9-4c41-851e-885b4e1e3458","name":"JonK","latency":"17","health":98,"body":[{"x":9,"y":4},{"x":10,"y":4},{"x":10,"y":3},{"x":9,"y":3},{"x":9,"y":2},{"x":8,"y":2},{"x":8,"y":1},{"x":7,"y":1},{"x":7,"y":2},{"x":7,"y":3},{"x":7,"y":4}],"head":{"x":9,"y":4},"length":11,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    # Get closer to food
    game_state = {"game":{"id":"d07d4832-3fbc-4df7-bc1f-84909baa01a2","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":45,"board":{"height":11,"width":11,"snakes":[{"id":"c653eaec-5707-482a-abf2-702d6ba76fd7","name":"JonK","latency":"25","health":59,"body":[{"x":8,"y":9},{"x":8,"y":8},{"x":9,"y":8},{"x":9,"y":9},{"x":9,"y":10}],"head":{"x":8,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"bbf93a5d-e566-49dd-81f6-3bea14ecc43e","name":"JonK3","latency":"29","health":100,"body":[{"x":1,"y":10},{"x":2,"y":10},{"x":3,"y":10},{"x":3,"y":9},{"x":3,"y":8},{"x":3,"y":7},{"x":4,"y":7},{"x":4,"y":6},{"x":4,"y":5},{"x":4,"y":5}],"head":{"x":1,"y":10},"length":10,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"86b77068-eaf5-46ff-a934-be44318ca9ba","name":"Nightwing","latency":"256","health":98,"body":[{"x":7,"y":4},{"x":8,"y":4},{"x":9,"y":4},{"x":9,"y":3},{"x":9,"y":2},{"x":8,"y":2},{"x":7,"y":2}],"head":{"x":7,"y":4},"length":7,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"d4972a83-7849-4d3f-be9b-1208252347df","name":"Rick","latency":"113","health":55,"body":[{"x":0,"y":9},{"x":1,"y":9},{"x":1,"y":8}],"head":{"x":0,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":3,"y":4}],"hazards":[]},"you":{"id":"a8d162b1-df10-4523-829b-6c751989810c","name":"Rick3","latency":"139","health":77,"body":[{"x":5,"y":10},{"x":6,"y":10},{"x":6,"y":9},{"x":6,"y":8},{"x":6,"y":7}],"head":{"x":5,"y":10},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    # Kill right away
    game_state={"game":{"id":"3755342f-30a2-4716-a3f5-88da12a44f5c","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":14,"board":{"height":11,"width":11,"snakes":[{"id":"a9f6cdb8-9d43-4826-a7d6-a751f348e37b","name":"JonK2","latency":"24","health":88,"body":[{"x":10,"y":0},{"x":9,"y":0},{"x":8,"y":0},{"x":7,"y":0}],"head":{"x":10,"y":0},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"9439ea03-46af-4b26-ac9e-1b0f1ade3d68","name":"Rick2","latency":"181","health":90,"body":[{"x":3,"y":3},{"x":4,"y":3},{"x":5,"y":3},{"x":6,"y":3}],"head":{"x":3,"y":3},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"e8bde2e2-6634-434c-88a0-9f639dc900b4","name":"Rick3","latency":"141","health":96,"body":[{"x":6,"y":0},{"x":6,"y":1},{"x":6,"y":2},{"x":7,"y":2}],"head":{"x":6,"y":0},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"dffa6754-2206-4ca0-9f7e-3a72c13a35eb","name":"JonK","latency":"36","health":99,"body":[{"x":7,"y":9},{"x":7,"y":8},{"x":7,"y":7},{"x":7,"y":6},{"x":8,"y":6}],"head":{"x":7,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"a3e20982-fad5-4b61-9623-c135a06fe1e8","name":"JonK3","latency":"34","health":90,"body":[{"x":5,"y":9},{"x":5,"y":8},{"x":5,"y":7},{"x":5,"y":6},{"x":5,"y":5}],"head":{"x":5,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"ed84fdbd-16a6-4605-9961-a8d75a053518","name":"Nightwing","latency":"134","health":94,"body":[{"x":9,"y":1},{"x":8,"y":1},{"x":8,"y":2},{"x":8,"y":3},{"x":9,"y":3},{"x":9,"y":2}],"head":{"x":9,"y":1},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"c1ec4823-e9f3-4971-92fa-5b83e1a18666","name":"Rick","latency":"185","health":92,"body":[{"x":3,"y":1},{"x":4,"y":1},{"x":5,"y":1},{"x":5,"y":2}],"head":{"x":3,"y":1},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":5,"y":10}],"hazards":[]},"you":{"id":"56662b3c-38c2-4cd3-8870-a1a33e717d15","name":"Rick4","latency":"176","health":89,"body":[{"x":7,"y":2},{"x":6,"y":2},{"x":6,"y":1}],"head":{"x":7,"y":2},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    # Get food since you're there I mean...
    game_state = {"game":{"id":"ad27664e-2e18-4de1-9d33-5f9a1a785ba2","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":113,"board":{"height":11,"width":11,"snakes":[{"id":"a8cba992-ec6c-48a2-9b8f-847f9f2c57b3","name":"Glynn","latency":"20","health":72,"body":[{"x":6,"y":1},{"x":7,"y":1},{"x":7,"y":0},{"x":8,"y":0},{"x":9,"y":0},{"x":10,"y":0},{"x":10,"y":1}],"head":{"x":6,"y":1},"length":7,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}},{"id":"8a2502f6-32e6-43b8-8cb0-69587a89e590","name":"JonK","latency":"30","health":94,"body":[{"x":6,"y":3},{"x":7,"y":3},{"x":7,"y":4},{"x":6,"y":4},{"x":5,"y":4},{"x":4,"y":4},{"x":4,"y":5},{"x":5,"y":5},{"x":6,"y":5},{"x":7,"y":5},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":4},{"x":9,"y":3},{"x":8,"y":3}],"head":{"x":6,"y":3},"length":15,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"d14aad13-1c0d-40b8-befc-b5772274b76a","name":"Nightwing","latency":"235","health":89,"body":[{"x":3,"y":8},{"x":3,"y":7},{"x":4,"y":7},{"x":5,"y":7},{"x":6,"y":7},{"x":7,"y":7},{"x":8,"y":7},{"x":8,"y":8},{"x":8,"y":9},{"x":7,"y":9}],"head":{"x":3,"y":8},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":8,"y":4},{"x":2,"y":10},{"x":0,"y":9}],"hazards":[]},"you":{"id":"4f62806b-731a-49a2-8044-dacc98b1209c","name":"Einar","latency":"512","health":99,"body":[{"x":0,"y":3},{"x":0,"y":4},{"x":0,"y":5},{"x":0,"y":6},{"x":0,"y":7},{"x":0,"y":8}],"head":{"x":0,"y":3},"length":6,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["right"]
    # Literally get it
    game_state ={"game":{"id":"f522977f-e085-44fc-9ce4-1b69bfed5b76","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":42,"board":{"height":11,"width":11,"snakes":[{"id":"a2528539-8d81-4ed3-8eda-1d39bc9e3898","name":"Glynn","latency":"25","health":58,"body":[{"x":7,"y":5},{"x":7,"y":4},{"x":7,"y":3}],"head":{"x":7,"y":5},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}},{"id":"774d49b9-c27a-457d-b7a2-21179bfce6db","name":"JonK","latency":"22","health":99,"body":[{"x":5,"y":9},{"x":5,"y":10},{"x":4,"y":10},{"x":3,"y":10},{"x":2,"y":10},{"x":1,"y":10},{"x":1,"y":9}],"head":{"x":5,"y":9},"length":7,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"e2734d0f-e7b9-48b1-a7ae-b4058b4bdf23","name":"Einar","latency":"89","health":76,"body":[{"x":6,"y":0},{"x":7,"y":0},{"x":8,"y":0},{"x":8,"y":1},{"x":9,"y":1}],"head":{"x":6,"y":0},"length":5,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}},{"id":"12d299be-2a62-46db-95b2-dada57044950","name":"JonK2","latency":"20","health":91,"body":[{"x":3,"y":3},{"x":3,"y":4},{"x":4,"y":4},{"x":4,"y":3},{"x":5,"y":3},{"x":5,"y":4},{"x":5,"y":5}],"head":{"x":3,"y":3},"length":7,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"9b97622f-a4d4-4e47-841b-d0fae7c5cab9","name":"Nightwing","latency":"318","health":60,"body":[{"x":4,"y":2},{"x":3,"y":2},{"x":2,"y":2},{"x":2,"y":1}],"head":{"x":4,"y":2},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"d2d3dd4b-cbe4-452c-9eaf-492055c98708","name":"Rick","latency":"121","health":98,"body":[{"x":9,"y":7},{"x":9,"y":8},{"x":9,"y":9},{"x":8,"y":9},{"x":8,"y":8}],"head":{"x":9,"y":7},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":5,"y":2}],"hazards":[]},"you":{"id":"e2734d0f-e7b9-48b1-a7ae-b4058b4bdf23","name":"Einar","latency":"89","health":76,"body":[{"x":6,"y":0},{"x":7,"y":0},{"x":8,"y":0},{"x":8,"y":1},{"x":9,"y":1}],"head":{"x":6,"y":0},"length":5,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    # Kill but don't die
    game_state = {"game":{"id":"ad27664e-2e18-4de1-9d33-5f9a1a785ba2","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":236,"board":{"height":11,"width":11,"snakes":[{"id":"8a2502f6-32e6-43b8-8cb0-69587a89e590","name":"JonK","latency":"25","health":88,"body":[{"x":5,"y":3},{"x":5,"y":2},{"x":5,"y":1},{"x":6,"y":1},{"x":6,"y":2},{"x":6,"y":3},{"x":6,"y":4},{"x":7,"y":4},{"x":7,"y":3},{"x":7,"y":2},{"x":7,"y":1},{"x":7,"y":0},{"x":8,"y":0},{"x":8,"y":1},{"x":8,"y":2},{"x":8,"y":3},{"x":8,"y":4},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":6},{"x":8,"y":6},{"x":8,"y":7},{"x":8,"y":8},{"x":8,"y":9},{"x":7,"y":9},{"x":6,"y":9},{"x":6,"y":10},{"x":5,"y":10}],"head":{"x":5,"y":3},"length":28,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"d14aad13-1c0d-40b8-befc-b5772274b76a","name":"Nightwing","latency":"72","health":82,"body":[{"x":7,"y":7},{"x":6,"y":7},{"x":6,"y":6},{"x":5,"y":6},{"x":4,"y":6},{"x":4,"y":5},{"x":4,"y":4},{"x":4,"y":3},{"x":4,"y":2},{"x":4,"y":1},{"x":4,"y":0},{"x":3,"y":0},{"x":2,"y":0},{"x":2,"y":1},{"x":1,"y":1}],"head":{"x":7,"y":7},"length":15,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":10,"y":4},{"x":1,"y":7},{"x":3,"y":9}],"hazards":[]},"you":{"id":"e03665ca-ffd8-42c4-ac18-552962948f24","name":"Matt","latency":"507","health":46,"body":[{"x":6,"y":7},{"x":7,"y":7},{"x":8,"y":7},{"x":9,"y":7}],"head":{"x":6,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    # Don't go for food, other snake is already there
    game_state = {"game":{"id":"a6300050-9608-4f53-b4ae-fb386cf6093f","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":28,"board":{"height":11,"width":11,"snakes":[{"id":"6bd34103-09ec-47e6-8598-8ac6d0ff1b09","name":"JonK2","latency":"29","health":95,"body":[{"x":4,"y":8},{"x":3,"y":8},{"x":2,"y":8},{"x":2,"y":9},{"x":2,"y":10},{"x":1,"y":10},{"x":1,"y":9}],"head":{"x":4,"y":8},"length":7,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"e4c107b4-6897-4d79-8c8a-138693b5188a","name":"Rick3","latency":"164","health":76,"body":[{"x":4,"y":4},{"x":4,"y":3},{"x":5,"y":3},{"x":6,"y":3},{"x":6,"y":4}],"head":{"x":4,"y":4},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"786748dc-dc17-4c11-a435-079dd13f9916","name":"JonK","latency":"23","health":74,"body":[{"x":5,"y":5},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5}],"head":{"x":5,"y":5},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"9056e000-4397-46b6-b321-06b8b1bd12b5","name":"Nightwing","latency":"221","health":95,"body":[{"x":8,"y":4},{"x":8,"y":3},{"x":8,"y":2},{"x":8,"y":1},{"x":9,"y":1},{"x":10,"y":1}],"head":{"x":8,"y":4},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"0078b037-c58e-4b18-b783-6eed306ab57e","name":"Rick","latency":"122","health":72,"body":[{"x":7,"y":9},{"x":6,"y":9},{"x":5,"y":9}],"head":{"x":7,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":9,"y":9}],"hazards":[]},"you":{"id":"9618658e-fe4d-4cf2-a334-bfcfcf1135b7","name":"Rick2","latency":"147","health":87,"body":[{"x":6,"y":-1},{"x":6,"y":0},{"x":5,"y":0},{"x":4,"y":0},{"x":3,"y":0}],"head":{"x":6,"y":-1},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["right"]
    # Risk-averse in early stages
    game_state = {"game":{"id":"36349060-199a-47c3-ba9c-469521d33762","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":9,"board":{"height":11,"width":11,"snakes":[{"id":"ce751e63-8225-4a9a-a9a9-f1aef774b6d5","name":"Rick","latency":"212","health":93,"body":[{"x":0,"y":7},{"x":0,"y":8},{"x":0,"y":9},{"x":1,"y":9}],"head":{"x":0,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"53561b2e-7a61-4330-ba5a-50aed6d2ed17","name":"JonK2","latency":"27","health":97,"body":[{"x":7,"y":2},{"x":6,"y":2},{"x":5,"y":2},{"x":5,"y":1},{"x":4,"y":1},{"x":4,"y":0}],"head":{"x":7,"y":2},"length":6,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"6c0c31d7-d152-4a2c-a1ca-0e45f18c239a","name":"Rick2","latency":"169","health":93,"body":[{"x":8,"y":3},{"x":7,"y":3},{"x":7,"y":4},{"x":8,"y":4}],"head":{"x":8,"y":3},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"5b1dfbd4-ef47-40ae-82c2-45c212282bc2","name":"Rick3","latency":"211","health":93,"body":[{"x":5,"y":10},{"x":6,"y":10},{"x":7,"y":10},{"x":8,"y":10}],"head":{"x":5,"y":10},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"c64e1e33-9e72-474c-b263-44b466eca22a","name":"JonK","latency":"29","health":93,"body":[{"x":5,"y":6},{"x":4,"y":6},{"x":3,"y":6},{"x":2,"y":6}],"head":{"x":5,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"b1f285a5-9e34-409a-82f0-9c920c68484e","name":"JonK3","latency":"17","health":100,"body":[{"x":7,"y":6},{"x":7,"y":7},{"x":8,"y":7},{"x":8,"y":6},{"x":8,"y":6}],"head":{"x":7,"y":6},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"521b11f5-2c48-46da-971c-8b4395d956ed","name":"Rick4","latency":"202","health":95,"body":[{"x":5,"y":4},{"x":5,"y":5},{"x":6,"y":5},{"x":6,"y":6}],"head":{"x":5,"y":4},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"61105a57-3d8e-40da-9831-bca43056f486","name":"Nightwing","latency":"267","health":93,"body":[{"x":4,"y":7},{"x":3,"y":7},{"x":2,"y":7},{"x":2,"y":8}],"head":{"x":4,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":10,"y":7},{"x":10,"y":2}],"hazards":[]},"you":{"id":"c64e1e33-9e72-474c-b263-44b466eca22a","name":"JonK","latency":"29","health":93,"body":[{"x":5,"y":6},{"x":4,"y":6},{"x":3,"y":6},{"x":2,"y":6}],"head":{"x":5,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["right"]
    # Don't trap yourself doofus
    game_state={"game":{"id":"3059bfc9-690e-4353-bbd3-638a786e2cd5","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":256,"board":{"width":11,"height":11,"food":[{"x":0,"y":1},{"x":3,"y":8},{"x":10,"y":5},{"x":10,"y":6}],"hazards":[],"snakes":[{"id":"gs_ptxFpkcqTgXqV8mkjpkwvR7G","name":"FerralSnake","health":90,"body":[{"x":1,"y":7},{"x":1,"y":8},{"x":1,"y":9},{"x":2,"y":9},{"x":3,"y":9},{"x":4,"y":9},{"x":4,"y":10},{"x":3,"y":10},{"x":2,"y":10},{"x":1,"y":10},{"x":0,"y":10},{"x":0,"y":9}],"latency":256,"head":{"x":1,"y":7},"length":12,"shout":"","squad":"","customizations":{"color":"#3b228c","head":"pop-star","tail":"shiny"}},{"id":"gs_dTmwFptRhBrcfDgFvG3tX6xG","name":"Nightwing","health":100,"body":[{"x":2,"y":6},{"x":3,"y":6},{"x":3,"y":5},{"x":3,"y":4},{"x":3,"y":3},{"x":3,"y":2},{"x":3,"y":1},{"x":3,"y":0},{"x":4,"y":0},{"x":4,"y":1},{"x":5,"y":1},{"x":6,"y":1},{"x":7,"y":1},{"x":8,"y":1},{"x":8,"y":0},{"x":9,"y":0},{"x":10,"y":0},{"x":10,"y":1},{"x":9,"y":1},{"x":9,"y":2},{"x":9,"y":3},{"x":8,"y":3},{"x":8,"y":4},{"x":8,"y":5},{"x":8,"y":6},{"x":7,"y":6},{"x":6,"y":6},{"x":6,"y":7},{"x":5,"y":7},{"x":5,"y":6},{"x":5,"y":6}],"latency":147,"head":{"x":2,"y":6},"length":31,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}]},"you":{"id":"gs_dTmwFptRhBrcfDgFvG3tX6xG","name":"Nightwing","health":100,"body":[{"x":2,"y":6},{"x":3,"y":6},{"x":3,"y":5},{"x":3,"y":4},{"x":3,"y":3},{"x":3,"y":2},{"x":3,"y":1},{"x":3,"y":0},{"x":4,"y":0},{"x":4,"y":1},{"x":5,"y":1},{"x":6,"y":1},{"x":7,"y":1},{"x":8,"y":1},{"x":8,"y":0},{"x":9,"y":0},{"x":10,"y":0},{"x":10,"y":1},{"x":9,"y":1},{"x":9,"y":2},{"x":9,"y":3},{"x":8,"y":3},{"x":8,"y":4},{"x":8,"y":5},{"x":8,"y":6},{"x":7,"y":6},{"x":6,"y":6},{"x":6,"y":7},{"x":5,"y":7},{"x":5,"y":6},{"x":5,"y":6}],"latency":147,"head":{"x":2,"y":6},"length":31,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]


def test_previous_bugs():
    game_state1 = {"game":{"id":"3c5e3a66-27ba-455d-bb0f-a5a15333f9d4","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":13,"board":{"width":11,"height":11,"food":[{"x":9,"y":9}],"hazards":[],"snakes":[{"id":"gs_6jCCrBywYkkfDKKR7CJb3B7T","name":"vongola","health":95,"body":[{"x":8,"y":7},{"x":7,"y":7},{"x":6,"y":7},{"x":5,"y":7},{"x":5,"y":6}],"latency":200,"head":{"x":8,"y":7},"length":5,"shout":"","squad":"","customizations":{"color":"#f0c300","head":"tiger-king","tail":"tiger-tail"}},{"id":"gs_SdddpkK9Kvv83MVpv34h4fHb","name":"DoomSnake","health":89,"body":[{"x":7,"y":4},{"x":6,"y":4},{"x":5,"y":4},{"x":4,"y":4}],"latency":30,"head":{"x":7,"y":4},"length":4,"shout":"","squad":"","customizations":{"color":"#810e07","head":"evil","tail":"bolt"}},{"id":"gs_C9RFckj9DRpjj8bjy3FGgWxJ","name":"Nightwing","health":100,"body":[{"x":10,"y":5},{"x":9,"y":5},{"x":8,"y":5},{"x":8,"y":6},{"x":7,"y":6},{"x":7,"y":6}],"latency":267,"head":{"x":10,"y":5},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"gs_Hjb3RMrhH8gdfVYbMDmxB9XX","name":"ruby-danger-noodle","health":89,"body":[{"x":9,"y":2},{"x":9,"y":3},{"x":8,"y":3},{"x":7,"y":3}],"latency":93,"head":{"x":9,"y":2},"length":4,"shout":"","squad":"","customizations":{"color":"#ff33fb","head":"gamer","tail":"virus"}}]},"you":{"id":"gs_C9RFckj9DRpjj8bjy3FGgWxJ","name":"Nightwing","health":100,"body":[{"x":10,"y":5},{"x":9,"y":5},{"x":8,"y":5},{"x":8,"y":6},{"x":7,"y":6},{"x":7,"y":6}],"latency":267,"head":{"x":10,"y":5},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    game_state2 = {"game":{"id":"33a97bbd-134c-4fec-bd17-f567b874b75c","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":118,"board":{"width":11,"height":11,"food":[{"x":10,"y":4}],"hazards":[],"snakes":[{"id":"gs_WY4QTYfxqMKBvJ836xdKy9kX","name":"SmikkelSnek","health":61,"body":[{"x":4,"y":4},{"x":4,"y":3},{"x":4,"y":2},{"x":5,"y":2}],"latency":109,"head":{"x":4,"y":4},"length":4,"shout":"","squad":"","customizations":{"color":"#ff0000","head":"caffeine","tail":"coffee"}},{"id":"gs_d39SdY4bp6cvTYyqhghtX48b","name":"Nightwing","health":82,"body":[{"x":5,"y":3},{"x":6,"y":3},{"x":7,"y":3},{"x":7,"y":4},{"x":6,"y":4},{"x":6,"y":5},{"x":6,"y":6},{"x":5,"y":6},{"x":4,"y":6},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5}],"latency":190,"head":{"x":5,"y":3},"length":12,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}]},"you":{"id":"gs_d39SdY4bp6cvTYyqhghtX48b","name":"Nightwing","health":82,"body":[{"x":5,"y":3},{"x":6,"y":3},{"x":7,"y":3},{"x":7,"y":4},{"x":6,"y":4},{"x":6,"y":5},{"x":6,"y":6},{"x":5,"y":6},{"x":4,"y":6},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5}],"latency":190,"head":{"x":5,"y":3},"length":12,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    game_state3 = {"game":{"id":"e22b9c0e-a8d9-4246-92f2-c327b17bbfb8","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":59,"board":{"width":11,"height":11,"food":[{"x":0,"y":8},{"x":8,"y":9},{"x":9,"y":4}],"hazards":[],"snakes":[{"id":"gs_B7YRVvRt3BBSrhgbV9JX3wdC","name":"bottleSnek","health":57,"body":[{"x":2,"y":1},{"x":1,"y":1},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0}],"latency":116,"head":{"x":2,"y":1},"length":6,"shout":"","squad":"","customizations":{"color":"#3e338f","head":"silly","tail":"bolt"}},{"id":"gs_dj9VFwHX7k3PWbRhVJVbjG97","name":"vongola","health":85,"body":[{"x":5,"y":6},{"x":6,"y":6},{"x":7,"y":6},{"x":7,"y":7},{"x":6,"y":7},{"x":5,"y":7},{"x":4,"y":7},{"x":3,"y":7}],"latency":176,"head":{"x":5,"y":6},"length":8,"shout":"","squad":"","customizations":{"color":"#f0c300","head":"tiger-king","tail":"tiger-tail"}},{"id":"gs_rcgWqx34wyjhfVD7fBS6bFmH","name":"Nightwing","health":86,"body":[{"x":0,"y":3},{"x":1,"y":3},{"x":2,"y":3},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":3}],"latency":233,"head":{"x":0,"y":3},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}]},"you":{"id":"gs_rcgWqx34wyjhfVD7fBS6bFmH","name":"Nightwing","health":86,"body":[{"x":0,"y":3},{"x":1,"y":3},{"x":2,"y":3},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":3}],"latency":233,"head":{"x":0,"y":3},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    for game_state in [game_state1, game_state2, game_state3]:
        next_move = Battlesnake(game_state).optimal_move()
        assert next_move is not None

    game_state = {"game":{"id":"8e532f17-7280-4d3e-84a1-28f0a37d8768","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":284,"board":{"width":11,"height":11,"food":[{"x":0,"y":3},{"x":4,"y":10},{"x":3,"y":1},{"x":3,"y":10},{"x":2,"y":9},{"x":1,"y":6}],"hazards":[],"snakes":[{"id":"gs_GhxHMT9dhBF3vPfPv3WXvwQG","name":"FerralSnake","health":97,"body":[{"x":2,"y":2},{"x":2,"y":3},{"x":1,"y":3},{"x":1,"y":2},{"x":1,"y":1},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":4,"y":1},{"x":4,"y":2},{"x":5,"y":2},{"x":5,"y":3},{"x":4,"y":3},{"x":4,"y":4},{"x":4,"y":5},{"x":5,"y":5},{"x":5,"y":4},{"x":6,"y":4},{"x":6,"y":3},{"x":6,"y":2}],"latency":301,"head":{"x":2,"y":2},"length":21,"shout":"","squad":"","customizations":{"color":"#3b228c","head":"pop-star","tail":"shiny"}},{"id":"gs_fCBSV6mvF3gKFVd9fKY9ftvK","name":"Nightwing","health":94,"body":[{"x":9,"y":7},{"x":8,"y":7},{"x":8,"y":6},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":4},{"x":9,"y":3},{"x":10,"y":3},{"x":10,"y":4},{"x":10,"y":5},{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":10,"y":10},{"x":9,"y":10},{"x":9,"y":9},{"x":8,"y":9},{"x":7,"y":9},{"x":6,"y":9},{"x":6,"y":8},{"x":6,"y":7},{"x":6,"y":6},{"x":5,"y":6},{"x":5,"y":7},{"x":4,"y":7},{"x":4,"y":8},{"x":4,"y":9},{"x":3,"y":9},{"x":3,"y":8}],"latency":165,"head":{"x":9,"y":7},"length":30,"shout":"","squad":"","customizations":{"color":"#1f51ff","head":"silly","tail":"hook"}}]},"you":{"id":"gs_fCBSV6mvF3gKFVd9fKY9ftvK","name":"Nightwing","health":94,"body":[{"x":9,"y":7},{"x":8,"y":7},{"x":8,"y":6},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":4},{"x":9,"y":3},{"x":10,"y":3},{"x":10,"y":4},{"x":10,"y":5},{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":10,"y":10},{"x":9,"y":10},{"x":9,"y":9},{"x":8,"y":9},{"x":7,"y":9},{"x":6,"y":9},{"x":6,"y":8},{"x":6,"y":7},{"x":6,"y":6},{"x":5,"y":6},{"x":5,"y":7},{"x":4,"y":7},{"x":4,"y":8},{"x":4,"y":9},{"x":3,"y":9},{"x":3,"y":8}],"latency":165,"head":{"x":9,"y":7},"length":30,"shout":"","squad":"","customizations":{"color":"#1f51ff","head":"silly","tail":"hook"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["down"]


def test_preferred_death():
    # In case opponent wants food
    game_state={"game":{"id":"5f90e47c-f4cb-4dbe-bbee-9d77005981ad","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":174,"board":{"height":11,"width":11,"snakes":[{"id":"87f18762-28a9-429a-a484-03dfd8168e44","name":"Nightwing","latency":"122","health":95,"body":[{"x":5,"y":9},{"x":4,"y":9},{"x":4,"y":10},{"x":3,"y":10},{"x":2,"y":10},{"x":1,"y":10},{"x":1,"y":9},{"x":1,"y":8},{"x":1,"y":7},{"x":2,"y":7},{"x":2,"y":8},{"x":3,"y":8},{"x":3,"y":7},{"x":4,"y":7},{"x":5,"y":7}],"head":{"x":5,"y":9},"length":15,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"4d8d25c3-3dfc-4cc1-8e1e-d2b8115f94f6","name":"Rick2","latency":"109","health":86,"body":[{"x":8,"y":0},{"x":7,"y":0},{"x":7,"y":1},{"x":8,"y":1},{"x":8,"y":2},{"x":8,"y":3},{"x":7,"y":3},{"x":7,"y":4},{"x":7,"y":5},{"x":7,"y":6},{"x":7,"y":7},{"x":7,"y":8},{"x":8,"y":8}],"head":{"x":8,"y":0},"length":13,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"3724bc0c-3c36-4885-94be-a78ae5bbfb6b","name":"JonK3","latency":"23","health":99,"body":[{"x":6,"y":8},{"x":6,"y":7},{"x":6,"y":6},{"x":6,"y":5},{"x":6,"y":4},{"x":6,"y":3},{"x":6,"y":2},{"x":5,"y":2},{"x":5,"y":1},{"x":4,"y":1},{"x":4,"y":0},{"x":3,"y":0},{"x":2,"y":0},{"x":2,"y":1},{"x":3,"y":1},{"x":3,"y":2},{"x":3,"y":3},{"x":2,"y":3},{"x":2,"y":2},{"x":1,"y":2},{"x":1,"y":1}],"head":{"x":6,"y":8},"length":21,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":0,"y":7},{"x":7,"y":10},{"x":4,"y":6}],"hazards":[]},"you":{"id":"3724bc0c-3c36-4885-94be-a78ae5bbfb6b","name":"JonK3","latency":"23","health":99,"body":[{"x":6,"y":8},{"x":6,"y":7},{"x":6,"y":6},{"x":6,"y":5},{"x":6,"y":4},{"x":6,"y":3},{"x":6,"y":2},{"x":5,"y":2},{"x":5,"y":1},{"x":4,"y":1},{"x":4,"y":0},{"x":3,"y":0},{"x":2,"y":0},{"x":2,"y":1},{"x":3,"y":1},{"x":3,"y":2},{"x":3,"y":3},{"x":2,"y":3},{"x":2,"y":2},{"x":1,"y":2},{"x":1,"y":1}],"head":{"x":6,"y":8},"length":21,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]
    # Die against the snake with lower length
    game_state = {"game":{"id":"0eecf020-5cc2-4da5-adb4-33d2fabc580b","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":63,"board":{"height":11,"width":11,"snakes":[{"id":"63f6454f-3f0b-4959-a46a-b6173bf97d9f","name":"JonK","latency":"24","health":85,"body":[{"x":6,"y":1},{"x":7,"y":1},{"x":8,"y":1},{"x":9,"y":1},{"x":10,"y":1},{"x":10,"y":2},{"x":10,"y":3},{"x":10,"y":4},{"x":10,"y":5}],"head":{"x":6,"y":1},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"73ec1a21-05e9-40da-854d-70e7562141ba","name":"Rick2","latency":"138","health":90,"body":[{"x":3,"y":4},{"x":4,"y":4},{"x":5,"y":4},{"x":6,"y":4},{"x":6,"y":3},{"x":7,"y":3},{"x":7,"y":2}],"head":{"x":3,"y":4},"length":7,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"e995934c-190f-4e1f-ae73-9623eae1ad42","name":"Nightwing","latency":"88","health":95,"body":[{"x":3,"y":2},{"x":4,"y":2},{"x":4,"y":1},{"x":3,"y":1},{"x":3,"y":0},{"x":2,"y":0}],"head":{"x":3,"y":2},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"ac9551aa-67aa-403e-bdea-68637eafa25e","name":"Rick","latency":"138","health":49,"body":[{"x":3,"y":6},{"x":3,"y":5},{"x":4,"y":5},{"x":5,"y":5},{"x":5,"y":6},{"x":5,"y":7}],"head":{"x":3,"y":6},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"5ef4a0b9-14fe-49e5-9614-4a045cc95a15","name":"Matt","latency":"37","health":94,"body":[{"x":1,"y":2},{"x":1,"y":3},{"x":1,"y":4},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":4}],"head":{"x":1,"y":2},"length":6,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}}],"food":[{"x":6,"y":5}],"hazards":[]},"you":{"id":"e995934c-190f-4e1f-ae73-9623eae1ad42","name":"Nightwing","latency":"88","health":95,"body":[{"x":3,"y":2},{"x":4,"y":2},{"x":4,"y":1},{"x":3,"y":1},{"x":3,"y":0},{"x":2,"y":0}],"head":{"x":3,"y":2},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    # Rather get edge-killed than outright killed
    game_state={"game":{"id":"2e5a563a-4729-414b-a397-c400bbde802f","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":99,"board":{"height":11,"width":11,"snakes":[{"id":"44ab1ffa-1489-4b72-8d47-2792090bce89","name":"JonK2","latency":"24","health":82,"body":[{"x":5,"y":10},{"x":5,"y":9},{"x":5,"y":8},{"x":4,"y":8},{"x":3,"y":8},{"x":2,"y":8},{"x":2,"y":9},{"x":2,"y":10},{"x":3,"y":10},{"x":3,"y":9},{"x":4,"y":9}],"head":{"x":5,"y":10},"length":11,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"e0387120-82a0-41d8-b7be-abfab1451ad4","name":"Nightwing","latency":"92","health":96,"body":[{"x":7,"y":10},{"x":7,"y":9},{"x":8,"y":9},{"x":9,"y":9},{"x":10,"y":9},{"x":10,"y":8},{"x":9,"y":8}],"head":{"x":7,"y":10},"length":7,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"85432cef-4eb6-499f-85c3-a074fd31a65c","name":"Matt","latency":"33","health":63,"body":[{"x":2,"y":1},{"x":1,"y":1},{"x":1,"y":2},{"x":2,"y":2},{"x":3,"y":2},{"x":4,"y":2},{"x":4,"y":1}],"head":{"x":2,"y":1},"length":7,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}},{"id":"73d4a88a-c940-4bd1-a50b-8219b85b0cb2","name":"Glynn","latency":"32","health":91,"body":[{"x":1,"y":6},{"x":2,"y":6},{"x":2,"y":5},{"x":3,"y":5}],"head":{"x":1,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}},{"id":"04528d5b-8720-4f7a-934b-e46194cb853e","name":"JonK","latency":"38","health":88,"body":[{"x":7,"y":8},{"x":6,"y":8},{"x":6,"y":7},{"x":6,"y":6},{"x":6,"y":5},{"x":5,"y":5},{"x":5,"y":4},{"x":5,"y":3},{"x":5,"y":2},{"x":5,"y":1},{"x":6,"y":1},{"x":7,"y":1},{"x":8,"y":1}],"head":{"x":7,"y":8},"length":13,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":0,"y":9}],"hazards":[]},"you":{"id":"73d4a88a-c940-4bd1-a50b-8219b85b0cb2","name":"Glynn","latency":"32","health":91,"body":[{"x":1,"y":6},{"x":2,"y":6},{"x":2,"y":5},{"x":3,"y":5}],"head":{"x":1,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    # Same
    game_state={"game":{"id":"3bc88cc0-98bc-462e-ad70-e01fb96e936a","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":40,"board":{"height":11,"width":11,"snakes":[{"id":"871393d0-4f27-435b-b9b3-b1638b5b8a25","name":"JonK2","latency":"28","health":100,"body":[{"x":0,"y":8},{"x":1,"y":8},{"x":2,"y":8},{"x":3,"y":8},{"x":3,"y":7},{"x":3,"y":7}],"head":{"x":0,"y":8},"length":6,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"265f4475-4b00-4d0a-aeab-93a1301d2ccd","name":"Nightwing","latency":"99","health":83,"body":[{"x":10,"y":8},{"x":9,"y":8},{"x":9,"y":7},{"x":9,"y":6},{"x":9,"y":5},{"x":9,"y":4},{"x":9,"y":3}],"head":{"x":10,"y":8},"length":7,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"4ed99cf6-f210-49e2-9f50-2a49290f4246","name":"Rick","latency":"128","health":97,"body":[{"x":10,"y":10},{"x":9,"y":10},{"x":8,"y":10},{"x":7,"y":10},{"x":6,"y":10},{"x":6,"y":9},{"x":6,"y":8}],"head":{"x":10,"y":10},"length":7,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"b61b697a-d1b0-4185-b807-530032b4274e","name":"JonK","latency":"26","health":91,"body":[{"x":8,"y":8},{"x":8,"y":9},{"x":7,"y":9},{"x":7,"y":8},{"x":7,"y":7},{"x":7,"y":6},{"x":7,"y":5},{"x":7,"y":4}],"head":{"x":8,"y":8},"length":8,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":7,"y":2}],"hazards":[]},"you":{"id":"674a99c8-b974-4717-af52-16cc26bb0195","name":"Glynn","latency":"30","health":77,"body":[{"x":9,"y":8},{"x":10,"y":8},{"x":10,"y":7}],"head":{"x":9,"y":8},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]

def test_collision_penalty():
    # Avoid possible run-ins
    game_state = {"game":{"id":"c7a1f832-35be-44b4-9d43-2830c5cff27f","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":180,"board":{"height":11,"width":11,"snakes":[{"id":"6521fe3a-faf1-46b0-b781-719061a0fe53","name":"JonK","latency":"21","health":91,"body":[{"x":4,"y":4},{"x":3,"y":4},{"x":3,"y":5},{"x":4,"y":5},{"x":4,"y":6},{"x":3,"y":6},{"x":2,"y":6},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":6},{"x":0,"y":7},{"x":1,"y":7},{"x":2,"y":7},{"x":2,"y":8},{"x":3,"y":8},{"x":3,"y":9},{"x":3,"y":10},{"x":4,"y":10},{"x":5,"y":10},{"x":5,"y":9},{"x":4,"y":9}],"head":{"x":4,"y":4},"length":22,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"0c68fa8c-6d8e-457c-a2a9-9d26bda779a6","name":"Nightwing","latency":"126","health":100,"body":[{"x":10,"y":8},{"x":9,"y":8},{"x":8,"y":8},{"x":7,"y":8},{"x":7,"y":7},{"x":6,"y":7},{"x":6,"y":6},{"x":6,"y":5},{"x":5,"y":5},{"x":5,"y":4},{"x":6,"y":4},{"x":7,"y":4},{"x":7,"y":3},{"x":8,"y":3},{"x":8,"y":3}],"head":{"x":10,"y":8},"length":15,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":8,"y":10}],"hazards":[]},"you":{"id":"6521fe3a-faf1-46b0-b781-719061a0fe53","name":"JonK","latency":"21","health":91,"body":[{"x":4,"y":4},{"x":3,"y":4},{"x":3,"y":5},{"x":4,"y":5},{"x":4,"y":6},{"x":3,"y":6},{"x":2,"y":6},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":6},{"x":0,"y":7},{"x":1,"y":7},{"x":2,"y":7},{"x":2,"y":8},{"x":3,"y":8},{"x":3,"y":9},{"x":3,"y":10},{"x":4,"y":10},{"x":5,"y":10},{"x":5,"y":9},{"x":4,"y":9}],"head":{"x":4,"y":4},"length":22,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    # Don't go colliding with this snake
    game_state = {"game":{"id":"2a04b92a-437b-4b0f-8973-0c13a242d07d","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":99,"board":{"height":11,"width":11,"snakes":[{"id":"4065f495-e7b6-4700-b154-c06fa8b2754b","name":"Jesse","latency":"25","health":63,"body":[{"x":6,"y":5},{"x":5,"y":5},{"x":5,"y":6},{"x":4,"y":6},{"x":4,"y":5},{"x":4,"y":4},{"x":4,"y":3},{"x":4,"y":2}],"head":{"x":6,"y":5},"length":8,"shout":"","squad":"","customizations":{"color":"#E04C07","head":"missile","tail":"nr-booster"}},{"id":"0c6ee6d7-b0ac-4497-9d92-56a6a9ee5b0f","name":"JonK","latency":"25","health":93,"body":[{"x":6,"y":7},{"x":5,"y":7},{"x":4,"y":7},{"x":3,"y":7},{"x":2,"y":7},{"x":1,"y":7},{"x":1,"y":6},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":6},{"x":0,"y":7},{"x":0,"y":8},{"x":1,"y":8},{"x":2,"y":8},{"x":3,"y":8},{"x":4,"y":8},{"x":4,"y":9}],"head":{"x":6,"y":7},"length":17,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"c7fe8366-1d3b-4bad-811d-6fdb8af54a34","name":"Einar","latency":"95","health":24,"body":[{"x":1,"y":4},{"x":0,"y":4},{"x":0,"y":3},{"x":0,"y":2},{"x":0,"y":1},{"x":0,"y":0}],"head":{"x":1,"y":4},"length":6,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}},{"id":"fb796a4d-e6d0-467a-92e1-92f300f4c1bf","name":"Nightwing","latency":"159","health":100,"body":[{"x":9,"y":10},{"x":9,"y":9},{"x":9,"y":8},{"x":9,"y":7},{"x":8,"y":7},{"x":7,"y":7},{"x":7,"y":6},{"x":7,"y":6}],"head":{"x":9,"y":10},"length":8,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":6,"y":3}],"hazards":[]},"you":{"id":"db266821-f05a-4d63-94d8-5244f0368441","name":"Glynn","latency":"24","health":70,"body":[{"x":9,"y":5},{"x":8,"y":5},{"x":8,"y":6}],"head":{"x":9,"y":5},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    # TODO potential collision coming our way
    game_state = {"game":{"id":"ecc6480a-d6e0-4246-82b5-ecd0ddde42fe","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":246,"board":{"height":11,"width":11,"snakes":[{"id":"6e80bf06-2f23-42ef-8858-aa451e9bf985","name":"JonK","latency":"16","health":99,"body":[{"x":0,"y":10},{"x":1,"y":10},{"x":1,"y":9},{"x":1,"y":8},{"x":2,"y":8},{"x":3,"y":8},{"x":4,"y":8},{"x":5,"y":8},{"x":6,"y":8},{"x":6,"y":9},{"x":6,"y":10},{"x":7,"y":10},{"x":8,"y":10},{"x":8,"y":9},{"x":7,"y":9},{"x":7,"y":8},{"x":7,"y":7},{"x":8,"y":7},{"x":8,"y":8},{"x":9,"y":8},{"x":10,"y":8},{"x":10,"y":7},{"x":10,"y":6},{"x":10,"y":5},{"x":10,"y":4},{"x":10,"y":3},{"x":9,"y":3}],"head":{"x":0,"y":10},"length":27,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"33ba4cb1-96a5-428c-b60d-2007520f822c","name":"Nightwing","latency":"91","health":100,"body":[{"x":5,"y":7},{"x":5,"y":6},{"x":5,"y":5},{"x":5,"y":4},{"x":6,"y":4},{"x":6,"y":3},{"x":5,"y":3},{"x":4,"y":3},{"x":3,"y":3},{"x":2,"y":3},{"x":1,"y":3},{"x":1,"y":2},{"x":1,"y":1},{"x":2,"y":1},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":1},{"x":4,"y":1},{"x":4,"y":0},{"x":5,"y":0},{"x":5,"y":0}],"head":{"x":5,"y":7},"length":21,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":0,"y":9}],"hazards":[]},"you":{"id":"7c378bb2-2b43-4884-9add-1c356d38fb53","name":"Rick2","latency":"112","health":97,"body":[{"x":9,"y":6},{"x":8,"y":6},{"x":7,"y":6},{"x":6,"y":6},{"x":5,"y":6}],"head":{"x":9,"y":6},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]


def test_forsake_food():
    # Will die if you get food
    game_state = {"game":{"id":"28ed1cda-afe6-4d05-a566-8d2cf0a8f2af","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":103,"board":{"height":11,"width":11,"snakes":[{"id":"855756ea-d478-48ef-a45f-d86ab19f268c","name":"Nightwing","latency":"278","health":97,"body":[{"x":9,"y":8},{"x":10,"y":8},{"x":10,"y":9},{"x":10,"y":10},{"x":9,"y":10},{"x":8,"y":10},{"x":7,"y":10}],"head":{"x":9,"y":8},"length":7,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"21763327-6d6e-4028-87d8-5060b1e6fa4d","name":"JonK2","latency":"25","health":68,"body":[{"x":3,"y":8},{"x":4,"y":8},{"x":4,"y":9},{"x":4,"y":10},{"x":5,"y":10},{"x":6,"y":10},{"x":6,"y":9},{"x":5,"y":9},{"x":5,"y":8},{"x":5,"y":7},{"x":4,"y":7},{"x":4,"y":6}],"head":{"x":3,"y":8},"length":12,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"3bd0031c-3c56-4356-b93a-f2bbbe26751f","name":"Rick2","latency":"123","health":99,"body":[{"x":9,"y":4},{"x":10,"y":4},{"x":10,"y":3},{"x":9,"y":3},{"x":9,"y":2},{"x":8,"y":2},{"x":7,"y":2},{"x":6,"y":2},{"x":5,"y":2}],"head":{"x":9,"y":4},"length":9,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":3,"y":2},{"x":10,"y":7}],"hazards":[]},"you":{"id":"3bd0031c-3c56-4356-b93a-f2bbbe26751f","name":"Rick2","latency":"123","health":99,"body":[{"x":9,"y":4},{"x":10,"y":4},{"x":10,"y":3},{"x":9,"y":3},{"x":9,"y":2},{"x":8,"y":2},{"x":7,"y":2},{"x":6,"y":2},{"x":5,"y":2}],"head":{"x":9,"y":4},"length":9,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["down"]
    # Penalise space more even if you get longer
    game_state={"game":{"id":"b26ad21d-db57-4707-aef0-3f98d95cb8d4","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":17,"board":{"height":11,"width":11,"snakes":[{"id":"b65284ee-cebe-4791-b512-1920d79e8f32","name":"Matt","latency":"51","health":83,"body":[{"x":2,"y":1},{"x":1,"y":1},{"x":1,"y":2}],"head":{"x":2,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}},{"id":"44204fa9-61ee-4c69-90a0-ae0fe19293e0","name":"Glynn","latency":"41","health":83,"body":[{"x":6,"y":9},{"x":6,"y":10},{"x":7,"y":10}],"head":{"x":6,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}},{"id":"fe17d07f-5757-4551-8d01-8e802ff6cdfc","name":"Jesse","latency":"43","health":83,"body":[{"x":5,"y":6},{"x":5,"y":7},{"x":5,"y":8}],"head":{"x":5,"y":6},"length":3,"shout":"","squad":"","customizations":{"color":"#E04C07","head":"missile","tail":"nr-booster"}},{"id":"f770d72b-e307-4f19-814f-b8d00f1d5d30","name":"Rick3","latency":"164","health":98,"body":[{"x":9,"y":10},{"x":8,"y":10},{"x":8,"y":9},{"x":9,"y":9},{"x":9,"y":8},{"x":10,"y":8},{"x":10,"y":9}],"head":{"x":9,"y":10},"length":7,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"a5b9ca67-378d-46e6-bdb3-f861d10e8cf6","name":"Einar","latency":"107","health":89,"body":[{"x":7,"y":0},{"x":6,"y":0},{"x":5,"y":0},{"x":4,"y":0},{"x":3,"y":0}],"head":{"x":7,"y":0},"length":5,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}},{"id":"869830c9-67f9-4465-9c26-1424d19983f8","name":"Rick2","latency":"147","health":98,"body":[{"x":1,"y":6},{"x":1,"y":7},{"x":1,"y":8},{"x":2,"y":8}],"head":{"x":1,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"0dfbdba7-10a4-4223-a0dd-d79b1295efb3","name":"Nightwing","latency":"197","health":97,"body":[{"x":10,"y":5},{"x":10,"y":4},{"x":10,"y":3},{"x":10,"y":2},{"x":9,"y":2},{"x":8,"y":2}],"head":{"x":10,"y":5},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"2435f566-b462-495d-be26-6cd625bf1290","name":"Rick","latency":"172","health":95,"body":[{"x":9,"y":6},{"x":8,"y":6},{"x":8,"y":5},{"x":7,"y":5}],"head":{"x":9,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":10,"y":6},{"x":4,"y":9}],"hazards":[]},"you":{"id":"a5b9ca67-378d-46e6-bdb3-f861d10e8cf6","name":"Einar","latency":"107","health":89,"body":[{"x":7,"y":0},{"x":6,"y":0},{"x":5,"y":0},{"x":4,"y":0},{"x":3,"y":0}],"head":{"x":7,"y":0},"length":5,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["up"]
    # You will get trapped
    game_state = {"game":{"id":"bf52fd8e-9cd7-4f9c-a328-db6d31f35a41","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":191,"board":{"height":11,"width":11,"snakes":[{"id":"de4c5e43-836c-4a46-a463-2e13ec3a51e8","name":"Rick2","latency":"112","health":80,"body":[{"x":4,"y":3},{"x":3,"y":3},{"x":2,"y":3},{"x":2,"y":4},{"x":2,"y":5},{"x":2,"y":6},{"x":2,"y":7},{"x":1,"y":7},{"x":1,"y":8},{"x":0,"y":8},{"x":0,"y":9},{"x":0,"y":10}],"head":{"x":4,"y":3},"length":12,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"963133d6-1d17-46b6-8a39-28a3cabbeeaf","name":"Nightwing","latency":"197","health":100,"body":[{"x":5,"y":0},{"x":5,"y":1},{"x":5,"y":2},{"x":5,"y":3},{"x":5,"y":4},{"x":5,"y":5},{"x":6,"y":5},{"x":7,"y":5},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":6},{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":10,"y":9}],"head":{"x":5,"y":0},"length":16,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":4,"y":0},{"x":9,"y":0}],"hazards":[]},"you":{"id":"9f0e6b1e-3d0c-4cf9-903f-0c4b1a423090","name":"Rick3","latency":"122","health":49,"body":[{"x":9,"y":1},{"x":9,"y":0},{"x":10,"y":0},{"x":10,"y":1},{"x":10,"y":2},{"x":10,"y":3}],"head":{"x":9,"y":1},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["left"]
    # Pretty bad options, but don't go left
    game_state = {"game":{"id":"623251","ruleset":{"name":"standard","version":"v.1.2.3"},"timeout":500},"turn":200,"you":{"health":100,"id":"you","name":"#22aa34","body":[{"x":9,"y":6},{"x":9,"y":5},{"x":9,"y":4},{"x":8,"y":4},{"x":8,"y":3},{"x":8,"y":2},{"x":9,"y":2},{"x":9,"y":1},{"x":10,"y":1}],"head":{"x":9,"y":6},"length":9},"board":{"food":[{"x":7,"y":6}],"height":11,"width":11,"snakes":[{"health":100,"id":"you","name":"#22aa34","body":[{"x":9,"y":6},{"x":9,"y":5},{"x":9,"y":4},{"x":8,"y":4},{"x":8,"y":3},{"x":8,"y":2},{"x":9,"y":2},{"x":9,"y":1},{"x":10,"y":1}],"head":{"x":9,"y":6},"length":9},{"health":100,"id":"#FF3cdf","name":"#FF3cdf","body":[{"x":6,"y":7},{"x":6,"y":8},{"x":6,"y":9},{"x":6,"y":10},{"x":7,"y":10},{"x":8,"y":10},{"x":9,"y":10},{"x":10,"y":10},{"x":10,"y":9},{"x":9,"y":9},{"x":9,"y":8},{"x":8,"y":8},{"x":8,"y":9},{"x":7,"y":9},{"x":7,"y":8}],"head":{"x":6,"y":7},"length":15}]}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["left"]
    # # Will get edge-killed if you get food
    # game_state ={"game":{"id":"87e99a13-c0d5-46a3-a9d7-c23b52f95c9f","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":64,"board":{"height":11,"width":11,"snakes":[{"id":"23bcc71a-93d3-49f4-af51-5f8aaabc986c","name":"Rick2","latency":"147","health":77,"body":[{"x":7,"y":7},{"x":6,"y":7},{"x":5,"y":7},{"x":4,"y":7},{"x":3,"y":7},{"x":3,"y":6}],"head":{"x":7,"y":7},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"fe6848ff-7177-4baf-8579-0c07c8897da9","name":"Rick3","latency":"146","health":97,"body":[{"x":8,"y":4},{"x":8,"y":3},{"x":9,"y":3},{"x":9,"y":4},{"x":9,"y":5},{"x":9,"y":6},{"x":9,"y":7}],"head":{"x":8,"y":4},"length":7,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"d2aadc28-a140-486d-a250-1104ecfffb4f","name":"JonK","latency":"25","health":93,"body":[{"x":2,"y":6},{"x":2,"y":5},{"x":2,"y":4},{"x":1,"y":4},{"x":1,"y":3},{"x":0,"y":3},{"x":0,"y":2},{"x":0,"y":1},{"x":1,"y":1},{"x":2,"y":1},{"x":3,"y":1}],"head":{"x":2,"y":6},"length":11,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"ef379848-fc61-4016-b3ac-f6bcdf81d78b","name":"Nightwing","latency":"193","health":83,"body":[{"x":6,"y":8},{"x":5,"y":8},{"x":5,"y":9},{"x":4,"y":9},{"x":3,"y":9},{"x":2,"y":9}],"head":{"x":6,"y":8},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"1039847c-1003-41a6-82f6-a1b19d9313a5","name":"JonK2","latency":"29","health":86,"body":[{"x":6,"y":6},{"x":6,"y":5},{"x":5,"y":5},{"x":5,"y":4},{"x":4,"y":4},{"x":4,"y":3},{"x":4,"y":2},{"x":4,"y":1},{"x":5,"y":1}],"head":{"x":6,"y":6},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":10,"y":6},{"x":4,"y":10}],"hazards":[]},"you":{"id":"d2aadc28-a140-486d-a250-1104ecfffb4f","name":"JonK","latency":"25","health":93,"body":[{"x":2,"y":6},{"x":2,"y":5},{"x":2,"y":4},{"x":1,"y":4},{"x":1,"y":3},{"x":0,"y":3},{"x":0,"y":2},{"x":0,"y":1},{"x":1,"y":1},{"x":2,"y":1},{"x":3,"y":1}],"head":{"x":2,"y":6},"length":11,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    # next_move = Battlesnake(game_state).optimal_move()
    # assert next_move not in ["up"]

    # Collision incoming if you get food incorrectly
    game_state = {"game":{"id":"0826618f-c165-46be-8571-a9b5244b06fe","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":115,"board":{"width":11,"height":11,"food":[{"x":0,"y":0}],"hazards":[],"snakes":[{"id":"gs_DKVrFrbyFVJx3JhWg6PTCXHD","name":"Snake Without Brain","health":93,"body":[{"x":6,"y":1},{"x":7,"y":1},{"x":7,"y":2},{"x":7,"y":3},{"x":7,"y":4},{"x":7,"y":5},{"x":7,"y":6},{"x":7,"y":7},{"x":8,"y":7},{"x":8,"y":8},{"x":9,"y":8},{"x":9,"y":9},{"x":8,"y":9},{"x":8,"y":10}],"latency":29,"head":{"x":6,"y":1},"length":14,"shout":"","squad":"","customizations":{"color":"#888888","head":"default","tail":"default"}},{"id":"gs_8qvKjRCb33V6r6mJmWdgvRVH","name":"Nightwing","health":66,"body":[{"x":1,"y":2},{"x":1,"y":3},{"x":1,"y":4},{"x":1,"y":5},{"x":1,"y":6},{"x":2,"y":6},{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7},{"x":4,"y":6},{"x":3,"y":6},{"x":3,"y":5},{"x":2,"y":5}],"latency":157,"head":{"x":1,"y":2},"length":13,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}]},"you":{"id":"gs_8qvKjRCb33V6r6mJmWdgvRVH","name":"Nightwing","health":66,"body":[{"x":1,"y":2},{"x":1,"y":3},{"x":1,"y":4},{"x":1,"y":5},{"x":1,"y":6},{"x":2,"y":6},{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7},{"x":4,"y":6},{"x":3,"y":6},{"x":3,"y":5},{"x":2,"y":5}],"latency":157,"head":{"x":1,"y":2},"length":13,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["left"]


def test_edge_kill():
    # Avoid edge kill
    game_state ={"game":{"id":"ebd7e984-bd7c-483f-9ab9-dd1941a2f627","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":23,"board":{"height":11,"width":11,"snakes":[{"id":"59149fd6-c5d1-468d-8858-0121f071ea9f","name":"Rick2","latency":"141","health":81,"body":[{"x":5,"y":10},{"x":4,"y":10},{"x":3,"y":10},{"x":2,"y":10}],"head":{"x":5,"y":10},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}},{"id":"1ea02430-c413-4093-96c8-8e32503ad9ea","name":"Rick3","latency":"160","health":81,"body":[{"x":6,"y":7},{"x":6,"y":8},{"x":6,"y":9},{"x":5,"y":9}],"head":{"x":6,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}},{"id":"20b643cf-33a0-47d2-8a9b-bf7467009309","name":"JonK","latency":"27","health":94,"body":[{"x":4,"y":5},{"x":4,"y":6},{"x":3,"y":6},{"x":3,"y":7},{"x":2,"y":7}],"head":{"x":4,"y":5},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"a3ca9d01-053d-4cb3-ba87-2b3f98065f76","name":"JonK3","latency":"32","health":89,"body":[{"x":2,"y":1},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":5,"y":0},{"x":6,"y":0}],"head":{"x":2,"y":1},"length":6,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"3b5358d1-b7f7-4be1-b81c-35f62a67ff2b","name":"Nightwing","latency":"62","health":100,"body":[{"x":0,"y":5},{"x":1,"y":5},{"x":1,"y":4},{"x":1,"y":3},{"x":1,"y":2},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":2}],"head":{"x":0,"y":5},"length":8,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"af15dcfa-39c7-438f-a02b-21192ac7ebff","name":"Rick","latency":"193","health":81,"body":[{"x":8,"y":5},{"x":8,"y":4},{"x":8,"y":3},{"x":8,"y":2}],"head":{"x":8,"y":5},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}},{"id":"a0ee3c4b-0096-4fb2-bcdc-4b8a7dd7499a","name":"JonK2","latency":"22","health":85,"body":[{"x":1,"y":6},{"x":2,"y":6},{"x":2,"y":5},{"x":2,"y":4},{"x":3,"y":4},{"x":4,"y":4}],"head":{"x":1,"y":6},"length":6,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":10,"y":5}],"hazards":[]},"you":{"id":"3b5358d1-b7f7-4be1-b81c-35f62a67ff2b","name":"Nightwing","latency":"62","health":100,"body":[{"x":0,"y":5},{"x":1,"y":5},{"x":1,"y":4},{"x":1,"y":3},{"x":1,"y":2},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":2}],"head":{"x":0,"y":5},"length":8,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]
    game_state={"game":{"id":"831f3b79-48e4-4add-aebe-92e735e7e18d","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":46,"board":{"height":11,"width":11,"snakes":[{"id":"7c51708d-0c60-4e23-889d-8313e4f9d140","name":"Rick3","latency":"143","health":93,"body":[{"x":3,"y":7},{"x":3,"y":6},{"x":3,"y":5},{"x":3,"y":4},{"x":2,"y":4},{"x":2,"y":3}],"head":{"x":3,"y":7},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"359fc540-ae08-4454-9c79-31558d57192e","name":"Rick4","latency":"125","health":78,"body":[{"x":4,"y":8},{"x":5,"y":8},{"x":5,"y":7},{"x":6,"y":7},{"x":6,"y":6},{"x":5,"y":6}],"head":{"x":4,"y":8},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"b25b193e-d692-4c99-a0a2-bc5b1955572a","name":"Nightwing","latency":"250","health":87,"body":[{"x":1,"y":9},{"x":1,"y":8},{"x":1,"y":7},{"x":2,"y":7},{"x":2,"y":6}],"head":{"x":1,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"4490fd70-e67c-4cc7-ba98-f9c5955d80d3","name":"JonK2","latency":"32","health":98,"body":[{"x":8,"y":6},{"x":7,"y":6},{"x":7,"y":7},{"x":7,"y":8},{"x":7,"y":9},{"x":7,"y":10},{"x":8,"y":10},{"x":8,"y":9}],"head":{"x":8,"y":6},"length":8,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":2,"y":1},{"x":9,"y":0}],"hazards":[]},"you":{"id":"7c51708d-0c60-4e23-889d-8313e4f9d140","name":"Rick3","latency":"143","health":93,"body":[{"x":3,"y":7},{"x":3,"y":6},{"x":3,"y":5},{"x":3,"y":4},{"x":2,"y":4},{"x":2,"y":3}],"head":{"x":3,"y":7},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["left"]
    game_state={"game":{"id":"5409bbb9-e528-49b6-9ae7-ba6b52ad3b53","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":88,"board":{"height":11,"width":11,"snakes":[{"id":"c98b8781-777b-4285-a345-4439efeb8f8d","name":"Nightwing","latency":"55","health":100,"body":[{"x":0,"y":8},{"x":1,"y":8},{"x":1,"y":9},{"x":2,"y":9},{"x":3,"y":9},{"x":4,"y":9},{"x":5,"y":9},{"x":6,"y":9},{"x":6,"y":8},{"x":6,"y":8}],"head":{"x":0,"y":8},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"0306f4b0-9a24-4016-a4e2-cd54ea6037cc","name":"JonK2","latency":"19","health":93,"body":[{"x":2,"y":6},{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7},{"x":4,"y":6},{"x":5,"y":6},{"x":6,"y":6},{"x":6,"y":5},{"x":5,"y":5}],"head":{"x":2,"y":6},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":1,"y":7},{"x":4,"y":3},{"x":8,"y":6}],"hazards":[]},"you":{"id":"f927577c-7c90-4b60-b113-3824e07f3abe","name":"Rick3","latency":"147","health":37,"body":[{"x":8,"y":1},{"x":8,"y":0},{"x":7,"y":0}],"head":{"x":8,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    game_state ={"game":{"id":"f406d97e-c514-4716-9bea-ce4218094795","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":66,"board":{"height":11,"width":11,"snakes":[{"id":"9410490c-9d53-4005-b388-c07f5da96b4e","name":"JonK3","latency":"26","health":87,"body":[{"x":2,"y":4},{"x":2,"y":5},{"x":3,"y":5},{"x":3,"y":6},{"x":4,"y":6},{"x":5,"y":6},{"x":5,"y":5},{"x":6,"y":5},{"x":7,"y":5},{"x":8,"y":5}],"head":{"x":2,"y":4},"length":10,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"1698d37b-6e0a-4f49-950f-1b46426639d4","name":"Rick4","latency":"126","health":81,"body":[{"x":9,"y":1},{"x":10,"y":1},{"x":10,"y":2},{"x":10,"y":3}],"head":{"x":9,"y":1},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"a767548f-64c3-4442-8c0d-aa7f7c7eb0d8","name":"Nightwing","latency":"126","health":96,"body":[{"x":0,"y":4},{"x":1,"y":4},{"x":1,"y":5},{"x":1,"y":6},{"x":1,"y":7},{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7}],"head":{"x":0,"y":4},"length":8,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"574389c6-5bb5-4480-b536-39228e642087","name":"JonK","latency":"19","health":93,"body":[{"x":6,"y":2},{"x":6,"y":3},{"x":5,"y":3},{"x":5,"y":4},{"x":4,"y":4},{"x":4,"y":3},{"x":4,"y":2},{"x":3,"y":2},{"x":3,"y":3},{"x":2,"y":3}],"head":{"x":6,"y":2},"length":10,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":8,"y":6},{"x":5,"y":8},{"x":6,"y":0}],"hazards":[]},"you":{"id":"fef4af13-6265-4ee0-b131-a4633a3feef9","name":"JonK2","latency":"33","health":85,"body":[{"x":5,"y":8},{"x":6,"y":8},{"x":7,"y":8},{"x":7,"y":7},{"x":8,"y":7}],"head":{"x":5,"y":8},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    # Avoid food otherwise you're dead
    game_state ={"game":{"id":"406460","ruleset":{"name":"standard","version":"v.1.2.3"},"timeout":500},"turn":200,"you":{"health":100,"id":"you","name":"#22aa34","body":[{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":9,"y":8},{"x":9,"y":9},{"x":8,"y":9},{"x":7,"y":9},{"x":7,"y":10}],"head":{"x":10,"y":6},"length":8},"board":{"food":[{"x":10,"y":5}],"height":11,"width":11,"snakes":[{"health":100,"id":"you","name":"#22aa34","body":[{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":9,"y":8},{"x":9,"y":9},{"x":8,"y":9},{"x":7,"y":9},{"x":7,"y":10}],"head":{"x":10,"y":6},"length":8},{"health":100,"id":"#FF8ecb","name":"#FF8ecb","body":[{"x":9,"y":5},{"x":8,"y":5},{"x":7,"y":5},{"x":6,"y":5},{"x":5,"y":5}],"head":{"x":9,"y":5},"length":5},{"health":100,"id":"#FFfdde","name":"#FFfdde","body":[{"x":6,"y":6},{"x":6,"y":7},{"x":5,"y":7},{"x":4,"y":7},{"x":4,"y":8},{"x":4,"y":9},{"x":4,"y":10}],"head":{"x":6,"y":6},"length":7},{"health":100,"id":"#FFebda","name":"#FFebda","body":[{"x":0,"y":1},{"x":0,"y":2},{"x":0,"y":3},{"x":0,"y":4}],"head":{"x":0,"y":1},"length":4}]}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]

    # Horizontal edge kill
    game_state = {'turn': 243, 'board': {'height': 11, 'width': 11, 'food': [{'x': 8, 'y': 2}, {'x': 3, 'y': 8}], 'hazards': [], 'snakes': [{'id': '8a1cf727-771b-440b-b184-7357ef44aa85', 'name': 'Nightwing', 'health': 84, 'body': [{'x': 1, 'y': 0}, {'x': 2, 'y': 0}, {'x': 3, 'y': 0}, {'x': 3, 'y': 1}, {'x': 2, 'y': 1}, {'x': 1, 'y': 1}, {'x': 1, 'y': 2}, {'x': 1, 'y': 3}, {'x': 1, 'y': 4}, {'x': 1, 'y': 5}, {'x': 1, 'y': 6}, {'x': 0, 'y': 6}, {'x': 0, 'y': 7}, {'x': 0, 'y': 8}, {'x': 0, 'y': 9}], 'head': {'x': 1, 'y': 0}, 'length': 15, 'food_eaten': None}, {'id': 'ced01f1e-7493-44a2-8816-446e83528422', 'name': 'Rick2', 'health': 95, 'body': [{'x': 7, 'y': 0}, {'x': 7, 'y': 1}, {'x': 7, 'y': 2}, {'x': 6, 'y': 2}, {'x': 6, 'y': 1}, {'x': 5, 'y': 1}, {'x': 4, 'y': 1}, {'x': 4, 'y': 2}, {'x': 3, 'y': 2}, {'x': 2, 'y': 2}, {'x': 2, 'y': 3}, {'x': 2, 'y': 4}, {'x': 2, 'y': 5}, {'x': 2, 'y': 6}, {'x': 3, 'y': 6}, {'x': 3, 'y': 5}, {'x': 3, 'y': 4}, {'x': 3, 'y': 3}, {'x': 4, 'y': 3}, {'x': 4, 'y': 4}], 'head': {'x': 7, 'y': 0}, 'length': 20, 'food_eaten': None}]}, 'you': {'id': '8a1cf727-771b-440b-b184-7357ef44aa85', 'name': 'Nightwing', 'health': 84, 'body': [{'x': 1, 'y': 0}, {'x': 2, 'y': 0}, {'x': 3, 'y': 0}, {'x': 3, 'y': 1}, {'x': 2, 'y': 1}, {'x': 1, 'y': 1}, {'x': 1, 'y': 2}, {'x': 1, 'y': 3}, {'x': 1, 'y': 4}, {'x': 1, 'y': 5}, {'x': 1, 'y': 6}, {'x': 0, 'y': 6}, {'x': 0, 'y': 7}, {'x': 0, 'y': 8}, {'x': 0, 'y': 9}], 'head': {'x': 1, 'y': 0}, 'length': 15, 'food_eaten': None}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]

    # One square away from edge kill Should have killed
    game_state = {"game":{"id":"2a04b92a-437b-4b0f-8973-0c13a242d07d","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":41,"board":{"height":11,"width":11,"snakes":[{"id":"4065f495-e7b6-4700-b154-c06fa8b2754b","name":"Jesse","latency":"23","health":92,"body":[{"x":8,"y":7},{"x":7,"y":7},{"x":7,"y":6},{"x":6,"y":6},{"x":6,"y":7},{"x":6,"y":8},{"x":6,"y":9}],"head":{"x":8,"y":7},"length":7,"shout":"","squad":"","customizations":{"color":"#E04C07","head":"missile","tail":"nr-booster"}},{"id":"0c6ee6d7-b0ac-4497-9d92-56a6a9ee5b0f","name":"JonK","latency":"23","health":100,"body":[{"x":7,"y":8},{"x":7,"y":9},{"x":7,"y":10},{"x":8,"y":10},{"x":9,"y":10},{"x":10,"y":10},{"x":10,"y":9},{"x":9,"y":9},{"x":9,"y":9}],"head":{"x":7,"y":8},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"c7fe8366-1d3b-4bad-811d-6fdb8af54a34","name":"Einar","latency":"87","health":82,"body":[{"x":7,"y":0},{"x":6,"y":0},{"x":5,"y":0},{"x":4,"y":0},{"x":3,"y":0},{"x":2,"y":0}],"head":{"x":7,"y":0},"length":6,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}},{"id":"fb796a4d-e6d0-467a-92e1-92f300f4c1bf","name":"Nightwing","latency":"115","health":71,"body":[{"x":8,"y":1},{"x":7,"y":1},{"x":6,"y":1},{"x":6,"y":2},{"x":5,"y":2},{"x":4,"y":2}],"head":{"x":8,"y":1},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"14c0aa65-94be-4b5d-9293-75fbaa396a3f","name":"Rick","latency":"121","health":98,"body":[{"x":6,"y":5},{"x":5,"y":5},{"x":4,"y":5},{"x":3,"y":5},{"x":3,"y":6},{"x":2,"y":6}],"head":{"x":6,"y":5},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":1,"y":10}],"hazards":[]},"you":{"id":"db266821-f05a-4d63-94d8-5244f0368441","name":"Glynn","latency":"24","health":70,"body":[{"x":9,"y":5},{"x":8,"y":5},{"x":8,"y":6}],"head":{"x":9,"y":5},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    # Trap with no space right away
    game_state = {"game":{"id":"60e1b749-34f3-4558-9940-5a9f0e48a6cd","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":12,"board":{"height":11,"width":11,"snakes":[{"id":"2698362f-d048-48ac-9606-ca78e22e4099","name":"Einar","latency":"97","health":99,"body":[{"x":1,"y":3},{"x":1,"y":2},{"x":0,"y":2},{"x":0,"y":1},{"x":0,"y":0},{"x":1,"y":0}],"head":{"x":1,"y":3},"length":6,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}},{"id":"edced2d2-3be1-4553-9384-6574d2346600","name":"JonK2","latency":"26","health":90,"body":[{"x":2,"y":4},{"x":1,"y":4},{"x":1,"y":5},{"x":0,"y":5}],"head":{"x":2,"y":4},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"70356921-27a0-4af4-8281-6eb38e35b574","name":"Nightwing","latency":"208","health":90,"body":[{"x":9,"y":9},{"x":9,"y":8},{"x":9,"y":7},{"x":8,"y":7}],"head":{"x":9,"y":9},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"3ccd3a7e-de7b-4b73-ae4f-bc409a7f10aa","name":"Rick","latency":"122","health":92,"body":[{"x":5,"y":7},{"x":5,"y":8},{"x":4,"y":8},{"x":4,"y":7}],"head":{"x":5,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"31c7356c-10f6-444c-8bf1-522bb7b246e2","name":"Matt","latency":"38","health":96,"body":[{"x":1,"y":7},{"x":1,"y":8},{"x":1,"y":9},{"x":0,"y":9}],"head":{"x":1,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}},{"id":"17d815b8-f9f7-48b8-87ca-beaf3b985fb7","name":"Glynn","latency":"32","health":88,"body":[{"x":6,"y":4},{"x":6,"y":5},{"x":7,"y":5}],"head":{"x":6,"y":4},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}},{"id":"47141202-b764-4bfe-8e80-d821b1b4faab","name":"JonK","latency":"41","health":100,"body":[{"x":10,"y":8},{"x":10,"y":7},{"x":10,"y":6},{"x":10,"y":5},{"x":10,"y":4},{"x":10,"y":4}],"head":{"x":10,"y":8},"length":6,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":4,"y":1},{"x":5,"y":10}],"hazards":[]},"you":{"id":"2698362f-d048-48ac-9606-ca78e22e4099","name":"Einar","latency":"97","health":99,"body":[{"x":1,"y":3},{"x":1,"y":2},{"x":0,"y":2},{"x":0,"y":1},{"x":0,"y":0},{"x":1,"y":0}],"head":{"x":1,"y":3},"length":6,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    # Trapped on both sides
    game_state = {"game":{"id":"3755342f-30a2-4716-a3f5-88da12a44f5c","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":72,"board":{"height":11,"width":11,"snakes":[{"id":"a9f6cdb8-9d43-4826-a7d6-a751f348e37b","name":"JonK2","latency":"21","health":64,"body":[{"x":3,"y":9},{"x":2,"y":9},{"x":1,"y":9},{"x":1,"y":8},{"x":0,"y":8}],"head":{"x":3,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"9439ea03-46af-4b26-ac9e-1b0f1ade3d68","name":"Rick2","latency":"121","health":32,"body":[{"x":6,"y":8},{"x":7,"y":8},{"x":8,"y":8},{"x":8,"y":7}],"head":{"x":6,"y":8},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"e8bde2e2-6634-434c-88a0-9f639dc900b4","name":"Rick3","latency":"150","health":82,"body":[{"x":9,"y":5},{"x":9,"y":6},{"x":8,"y":6},{"x":8,"y":5},{"x":8,"y":4}],"head":{"x":9,"y":5},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"dffa6754-2206-4ca0-9f7e-3a72c13a35eb","name":"JonK","latency":"28","health":96,"body":[{"x":3,"y":1},{"x":2,"y":1},{"x":1,"y":1},{"x":0,"y":1},{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0}],"head":{"x":3,"y":1},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"a3e20982-fad5-4b61-9623-c135a06fe1e8","name":"JonK3","latency":"31","health":100,"body":[{"x":5,"y":5},{"x":4,"y":5},{"x":3,"y":5},{"x":3,"y":6},{"x":3,"y":7},{"x":2,"y":7},{"x":2,"y":8},{"x":3,"y":8},{"x":3,"y":8}],"head":{"x":5,"y":5},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"ed84fdbd-16a6-4605-9961-a8d75a053518","name":"Nightwing","latency":"111","health":70,"body":[{"x":4,"y":2},{"x":3,"y":2},{"x":2,"y":2},{"x":1,"y":2},{"x":1,"y":3},{"x":1,"y":4},{"x":1,"y":5},{"x":2,"y":5}],"head":{"x":4,"y":2},"length":8,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":7,"y":1}],"hazards":[]},"you":{"id":"c1ec4823-e9f3-4971-92fa-5b83e1a18666","name":"Rick","latency":"136","health":98,"body":[{"x":0,"y":9},{"x":0,"y":10},{"x":0,"y":9},{"x":0,"y":8},{"x":0,"y":7},{"x":1,"y":7}],"head":{"x":0,"y":9},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]

    # Edge kill from two squares away
    game_state = {"game":{"id":"ecc6480a-d6e0-4246-82b5-ecd0ddde42fe","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":78,"board":{"height":11,"width":11,"snakes":[{"id":"6e80bf06-2f23-42ef-8858-aa451e9bf985","name":"JonK","latency":"14","health":92,"body":[{"x":4,"y":6},{"x":5,"y":6},{"x":6,"y":6},{"x":7,"y":6},{"x":8,"y":6},{"x":9,"y":6},{"x":10,"y":6},{"x":10,"y":5},{"x":10,"y":4},{"x":9,"y":4},{"x":8,"y":4},{"x":7,"y":4},{"x":6,"y":4}],"head":{"x":4,"y":6},"length":13,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"33ba4cb1-96a5-428c-b60d-2007520f822c","name":"Nightwing","latency":"148","health":80,"body":[{"x":2,"y":6},{"x":3,"y":6},{"x":3,"y":7},{"x":3,"y":8},{"x":3,"y":9},{"x":4,"y":9},{"x":4,"y":8},{"x":4,"y":7}],"head":{"x":2,"y":6},"length":8,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"0fcc483a-f94b-4288-8ba5-62cb7dace466","name":"Rick","latency":"108","health":88,"body":[{"x":4,"y":10},{"x":5,"y":10},{"x":5,"y":9},{"x":5,"y":8},{"x":6,"y":8},{"x":6,"y":9}],"head":{"x":4,"y":10},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":0,"y":6},{"x":1,"y":1},{"x":4,"y":1}],"hazards":[]},"you":{"id":"7c378bb2-2b43-4884-9add-1c356d38fb53","name":"Rick2","latency":"112","health":97,"body":[{"x":9,"y":6},{"x":8,"y":6},{"x":7,"y":6},{"x":6,"y":6},{"x":5,"y":6}],"head":{"x":9,"y":6},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    # You're gonna die if you get food! PRESENTATION
    game_state = {"game":{"id":"33a97bbd-134c-4fec-bd17-f567b874b75c","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":65,"board":{"width":11,"height":11,"food":[{"x":5,"y":0}],"hazards":[],"snakes":[{"id":"gs_QKPTRHcq83p3kY3Yxt4QqdTC","name":"Snake Without Brain","health":93,"body":[{"x":5,"y":4},{"x":5,"y":5},{"x":5,"y":6},{"x":4,"y":6},{"x":4,"y":7},{"x":4,"y":8},{"x":4,"y":9},{"x":5,"y":9},{"x":5,"y":10},{"x":6,"y":10}],"latency":27,"head":{"x":5,"y":4},"length":10,"shout":"","squad":"","customizations":{"color":"#888888","head":"default","tail":"default"}},{"id":"gs_V7MwWk9PtCmMVdkGmHG4xJT3","name":"vongola","health":82,"body":[{"x":8,"y":1},{"x":8,"y":2},{"x":8,"y":3},{"x":8,"y":4},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":6},{"x":9,"y":7}],"latency":180,"head":{"x":8,"y":1},"length":8,"shout":"","squad":"","customizations":{"color":"#f0c300","head":"tiger-king","tail":"tiger-tail"}},{"id":"gs_WY4QTYfxqMKBvJ836xdKy9kX","name":"SmikkelSnek","health":35,"body":[{"x":2,"y":3},{"x":2,"y":4},{"x":1,"y":4}],"latency":79,"head":{"x":2,"y":3},"length":3,"shout":"","squad":"","customizations":{"color":"#ff0000","head":"caffeine","tail":"coffee"}},{"id":"gs_d39SdY4bp6cvTYyqhghtX48b","name":"Nightwing","health":96,"body":[{"x":4,"y":1},{"x":4,"y":2},{"x":4,"y":3},{"x":4,"y":4},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":2,"y":6}],"latency":195,"head":{"x":4,"y":1},"length":8,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}]},"you":{"id":"gs_d39SdY4bp6cvTYyqhghtX48b","name":"Nightwing","health":96,"body":[{"x":4,"y":1},{"x":4,"y":2},{"x":4,"y":3},{"x":4,"y":4},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":2,"y":6}],"latency":195,"head":{"x":4,"y":1},"length":8,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    game_state={"game":{"id":"044df09a-c6e9-4daf-b895-a45eeee9a7c6","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":16,"board":{"width":11,"height":11,"food":[{"x":0,"y":0}],"hazards":[],"snakes":[{"id":"gs_f8pxy4cdybRgkfGmQbhPryV3","name":"slieks","health":96,"body":[{"x":3,"y":3},{"x":4,"y":3},{"x":4,"y":4},{"x":5,"y":4},{"x":5,"y":5}],"latency":94,"head":{"x":3,"y":3},"length":5,"shout":"","squad":"","customizations":{"color":"#cccccc","head":"moto-helmet","tail":"offroad"}},{"id":"gs_XFFYwcYrhpCHJTymRMBcYvtK","name":"Nightwing","health":91,"body":[{"x":1,"y":1},{"x":2,"y":1},{"x":3,"y":1},{"x":3,"y":2},{"x":4,"y":2}],"latency":252,"head":{"x":1,"y":1},"length":5,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}]},"you":{"id":"gs_XFFYwcYrhpCHJTymRMBcYvtK","name":"Nightwing","health":91,"body":[{"x":1,"y":1},{"x":2,"y":1},{"x":3,"y":1},{"x":3,"y":2},{"x":4,"y":2}],"latency":252,"head":{"x":1,"y":1},"length":5,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["down"]

def test_aggress_over_food():
    game_state = {"game":{"id":"7f70bcc7-c4c3-4509-a484-94aa86c89fa5","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":115,"board":{"width":11,"height":11,"food":[{"x":8,"y":1}],"hazards":[],"snakes":[{"id":"gs_34jprH9MGwx6GJCPjFQjqtjM","name":"rusty_rooster","health":100,"body":[{"x":3,"y":10},{"x":3,"y":9},{"x":3,"y":8},{"x":3,"y":7},{"x":3,"y":6},{"x":4,"y":6},{"x":4,"y":5},{"x":4,"y":5}],"latency":23,"head":{"x":3,"y":10},"length":8,"shout":"","squad":"","customizations":{"color":"#c76d0c","head":"chicken","tail":"mlh-gene"}},{"id":"gs_9KB7CDwjCtccf9MTjC3TyM8K","name":"SpongeBob-SquareSnake","health":85,"body":[{"x":2,"y":7},{"x":2,"y":6},{"x":2,"y":5},{"x":1,"y":5},{"x":1,"y":6},{"x":1,"y":7},{"x":1,"y":8},{"x":1,"y":9},{"x":1,"y":10},{"x":2,"y":10},{"x":2,"y":9},{"x":2,"y":8}],"latency":85,"head":{"x":2,"y":7},"length":12,"shout":"","squad":"","customizations":{"color":"#fff56c","head":"replit-mark","tail":"block-bum"}},{"id":"gs_TVSFDk93VwCVyvGRXqrJqDp4","name":"Nightwing","health":87,"body":[{"x":5,"y":4},{"x":6,"y":4},{"x":7,"y":4},{"x":7,"y":5},{"x":8,"y":5},{"x":8,"y":6},{"x":9,"y":6},{"x":9,"y":7},{"x":8,"y":7},{"x":8,"y":8},{"x":8,"y":9},{"x":9,"y":9},{"x":9,"y":10}],"latency":175,"head":{"x":5,"y":4},"length":13,"shout":"","squad":"","customizations":{"color":"#1f51ff","head":"silly","tail":"hook"}},{"id":"gs_7kg8SFxRrPpc86YBX9HMSxJC","name":"Hovering Hobbs","health":80,"body":[{"x":2,"y":3},{"x":1,"y":3},{"x":1,"y":2},{"x":2,"y":2},{"x":3,"y":2},{"x":4,"y":2},{"x":5,"y":2},{"x":6,"y":2}],"latency":361,"head":{"x":2,"y":3},"length":8,"shout":"","squad":"","customizations":{"color":"#da8a1a","head":"beach-puffin-special","tail":"beach-puffin-special"}}]},"you":{"id":"gs_TVSFDk93VwCVyvGRXqrJqDp4","name":"Nightwing","health":87,"body":[{"x":5,"y":4},{"x":6,"y":4},{"x":7,"y":4},{"x":7,"y":5},{"x":8,"y":5},{"x":8,"y":6},{"x":9,"y":6},{"x":9,"y":7},{"x":8,"y":7},{"x":8,"y":8},{"x":8,"y":9},{"x":9,"y":9},{"x":9,"y":10}],"latency":175,"head":{"x":5,"y":4},"length":13,"shout":"","squad":"","customizations":{"color":"#1f51ff","head":"silly","tail":"hook"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]

def test_aggression():
    # Aggression
    game_state = {"game":{"id":"3a462210-568a-4fbf-b55f-6638c64cbdb7","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":77,"board":{"height":11,"width":11,"snakes":[{"id":"db66670b-92da-4e7d-8269-dc58b703300c","name":"Nightwing","latency":"125","health":94,"body":[{"x":4,"y":3},{"x":4,"y":4},{"x":3,"y":4},{"x":2,"y":4},{"x":1,"y":4},{"x":1,"y":5},{"x":1,"y":6},{"x":2,"y":6},{"x":2,"y":5},{"x":3,"y":5}],"head":{"x":4,"y":3},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"47ff25b9-4670-41a5-b53c-16477c71172a","name":"Rick","latency":"117","health":82,"body":[{"x":0,"y":9},{"x":0,"y":8},{"x":0,"y":7},{"x":1,"y":7},{"x":2,"y":7}],"head":{"x":0,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"f39940a9-ab4e-4546-b251-6691e360d766","name":"JonK2","latency":"36","health":100,"body":[{"x":8,"y":9},{"x":7,"y":9},{"x":6,"y":9},{"x":5,"y":9},{"x":4,"y":9},{"x":4,"y":8},{"x":5,"y":8},{"x":5,"y":7},{"x":6,"y":7},{"x":6,"y":6},{"x":5,"y":6},{"x":5,"y":6}],"head":{"x":8,"y":9},"length":12,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"01ed6a96-9caf-4788-a36a-02b84962289c","name":"JonK3","latency":"28","health":95,"body":[{"x":2,"y":3},{"x":1,"y":3},{"x":0,"y":3},{"x":0,"y":2},{"x":0,"y":1},{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0}],"head":{"x":2,"y":3},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":8,"y":6}],"hazards":[]},"you":{"id":"01ed6a96-9caf-4788-a36a-02b84962289c","name":"JonK3","latency":"28","health":95,"body":[{"x":2,"y":3},{"x":1,"y":3},{"x":0,"y":3},{"x":0,"y":2},{"x":0,"y":1},{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0}],"head":{"x":2,"y":3},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down", "left"]
    game_state = {"game":{"id":"cb769656-fe75-4959-b123-390eff4945bb","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":109,"board":{"height":11,"width":11,"snakes":[{"id":"f1af0262-9a47-4c98-b034-86332f2433e6","name":"Nightwing","latency":"90","health":95,"body":[{"x":3,"y":4},{"x":3,"y":5},{"x":3,"y":6},{"x":3,"y":7},{"x":3,"y":8},{"x":3,"y":9},{"x":4,"y":9},{"x":4,"y":8},{"x":5,"y":8},{"x":6,"y":8},{"x":7,"y":8},{"x":7,"y":7}],"head":{"x":3,"y":4},"length":12,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"60eb8bb7-8344-4450-a3be-7c89e59c584f","name":"Rick","latency":"120","health":89,"body":[{"x":5,"y":10},{"x":6,"y":10},{"x":6,"y":9},{"x":7,"y":9},{"x":8,"y":9},{"x":8,"y":8},{"x":8,"y":7},{"x":8,"y":6},{"x":8,"y":5},{"x":8,"y":4}],"head":{"x":5,"y":10},"length":10,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":0,"y":10},{"x":8,"y":0},{"x":7,"y":4}],"hazards":[]},"you":{"id":"39ad80f7-56b9-4c89-a124-8f67589c404e","name":"JonK3","latency":"31","health":82,"body":[{"x":4,"y":1},{"x":4,"y":2},{"x":3,"y":2},{"x":3,"y":3},{"x":4,"y":3}],"head":{"x":4,"y":1},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    game_state={"game":{"id":"5409bbb9-e528-49b6-9ae7-ba6b52ad3b53","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":188,"board":{"height":11,"width":11,"snakes":[{"id":"c98b8781-777b-4285-a345-4439efeb8f8d","name":"Nightwing","latency":"65","health":98,"body":[{"x":1,"y":3},{"x":1,"y":2},{"x":1,"y":1},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":5,"y":0},{"x":6,"y":0},{"x":7,"y":0},{"x":8,"y":0},{"x":8,"y":1},{"x":7,"y":1},{"x":6,"y":1},{"x":5,"y":1},{"x":5,"y":2},{"x":5,"y":3},{"x":6,"y":3},{"x":6,"y":4},{"x":7,"y":4},{"x":7,"y":3},{"x":8,"y":3}],"head":{"x":1,"y":3},"length":22,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"0306f4b0-9a24-4016-a4e2-cd54ea6037cc","name":"JonK2","latency":"12","health":96,"body":[{"x":2,"y":4},{"x":2,"y":3},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":1},{"x":4,"y":1},{"x":4,"y":2},{"x":4,"y":3},{"x":4,"y":4},{"x":4,"y":5},{"x":4,"y":6},{"x":4,"y":7},{"x":3,"y":7},{"x":3,"y":8},{"x":3,"y":9},{"x":2,"y":9},{"x":2,"y":8},{"x":1,"y":8},{"x":0,"y":8},{"x":0,"y":7},{"x":1,"y":7}],"head":{"x":2,"y":4},"length":21,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":0,"y":3},{"x":9,"y":9}],"hazards":[]},"you":{"id":"0306f4b0-9a24-4016-a4e2-cd54ea6037cc","name":"JonK2","latency":"12","health":96,"body":[{"x":2,"y":4},{"x":2,"y":3},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":1},{"x":4,"y":1},{"x":4,"y":2},{"x":4,"y":3},{"x":4,"y":4},{"x":4,"y":5},{"x":4,"y":6},{"x":4,"y":7},{"x":3,"y":7},{"x":3,"y":8},{"x":3,"y":9},{"x":2,"y":9},{"x":2,"y":8},{"x":1,"y":8},{"x":0,"y":8},{"x":0,"y":7},{"x":1,"y":7}],"head":{"x":2,"y":4},"length":21,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    game_state={"game":{"id":"28ed1cda-afe6-4d05-a566-8d2cf0a8f2af","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":167,"board":{"height":11,"width":11,"snakes":[{"id":"855756ea-d478-48ef-a45f-d86ab19f268c","name":"Nightwing","latency":"297","health":84,"body":[{"x":7,"y":4},{"x":6,"y":4},{"x":6,"y":3},{"x":5,"y":3},{"x":5,"y":2},{"x":5,"y":1},{"x":6,"y":1},{"x":6,"y":2},{"x":7,"y":2},{"x":7,"y":3},{"x":8,"y":3}],"head":{"x":7,"y":4},"length":11,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"21763327-6d6e-4028-87d8-5060b1e6fa4d","name":"JonK2","latency":"29","health":95,"body":[{"x":8,"y":1},{"x":7,"y":1},{"x":7,"y":0},{"x":6,"y":0},{"x":5,"y":0},{"x":4,"y":0},{"x":3,"y":0},{"x":2,"y":0},{"x":2,"y":1},{"x":2,"y":2},{"x":2,"y":3},{"x":3,"y":3},{"x":3,"y":4},{"x":3,"y":5},{"x":4,"y":5},{"x":4,"y":6},{"x":5,"y":6},{"x":5,"y":5}],"head":{"x":8,"y":1},"length":18,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"3bd0031c-3c56-4356-b93a-f2bbbe26751f","name":"Rick2","latency":"116","health":35,"body":[{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7},{"x":5,"y":7},{"x":6,"y":7},{"x":6,"y":8},{"x":5,"y":8},{"x":4,"y":8},{"x":3,"y":8}],"head":{"x":2,"y":7},"length":9,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":9,"y":2}],"hazards":[]},"you":{"id":"d8e1d216-97a9-41c5-905c-be866dc9fb39","name":"Rick","latency":"183","health":100,"body":[{"x":5,"y":0},{"x":6,"y":0},{"x":7,"y":0},{"x":8,"y":0},{"x":8,"y":0}],"head":{"x":5,"y":0},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    game_state = {"game":{"id":"3a462210-568a-4fbf-b55f-6638c64cbdb7","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":77,"board":{"height":11,"width":11,"snakes":[{"id":"db66670b-92da-4e7d-8269-dc58b703300c","name":"Nightwing","latency":"125","health":94,"body":[{"x":4,"y":3},{"x":4,"y":4},{"x":3,"y":4},{"x":2,"y":4},{"x":1,"y":4},{"x":1,"y":5},{"x":1,"y":6},{"x":2,"y":6},{"x":2,"y":5},{"x":3,"y":5}],"head":{"x":4,"y":3},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"47ff25b9-4670-41a5-b53c-16477c71172a","name":"Rick","latency":"117","health":82,"body":[{"x":0,"y":9},{"x":0,"y":8},{"x":0,"y":7},{"x":1,"y":7},{"x":2,"y":7}],"head":{"x":0,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"f39940a9-ab4e-4546-b251-6691e360d766","name":"JonK2","latency":"36","health":100,"body":[{"x":8,"y":9},{"x":7,"y":9},{"x":6,"y":9},{"x":5,"y":9},{"x":4,"y":9},{"x":4,"y":8},{"x":5,"y":8},{"x":5,"y":7},{"x":6,"y":7},{"x":6,"y":6},{"x":5,"y":6},{"x":5,"y":6}],"head":{"x":8,"y":9},"length":12,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"01ed6a96-9caf-4788-a36a-02b84962289c","name":"JonK3","latency":"28","health":95,"body":[{"x":2,"y":3},{"x":1,"y":3},{"x":0,"y":3},{"x":0,"y":2},{"x":0,"y":1},{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0}],"head":{"x":2,"y":3},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":8,"y":6}],"hazards":[]},"you":{"id":"01ed6a96-9caf-4788-a36a-02b84962289c","name":"JonK3","latency":"28","health":95,"body":[{"x":2,"y":3},{"x":1,"y":3},{"x":0,"y":3},{"x":0,"y":2},{"x":0,"y":1},{"x":0,"y":0},{"x":1,"y":0},{"x":2,"y":0},{"x":3,"y":0}],"head":{"x":2,"y":3},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]
    # Prefer aggression to space if we're longer
    game_state = {"game":{"id":"656aba8e-4590-447a-b4c7-7d0aaeb6a159","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":90,"board":{"height":11,"width":11,"snakes":[{"id":"1680f1d9-27d5-4cb5-bb97-79b329af1f41","name":"Nightwing","latency":"118","health":96,"body":[{"x":6,"y":6},{"x":6,"y":5},{"x":6,"y":4},{"x":6,"y":3},{"x":5,"y":3},{"x":5,"y":4},{"x":5,"y":5},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":1,"y":5},{"x":1,"y":6}],"head":{"x":6,"y":6},"length":12,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"29a0ffdf-17b7-4f79-983a-d3c1b3885946","name":"Einar","latency":"88","health":87,"body":[{"x":3,"y":9},{"x":2,"y":9},{"x":1,"y":9},{"x":1,"y":8},{"x":1,"y":7},{"x":0,"y":7},{"x":0,"y":6},{"x":0,"y":5},{"x":0,"y":4},{"x":0,"y":3}],"head":{"x":3,"y":9},"length":10,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}}],"food":[{"x":9,"y":5},{"x":7,"y":9}],"hazards":[]},"you":{"id":"29a0ffdf-17b7-4f79-983a-d3c1b3885946","name":"Einar","latency":"88","health":87,"body":[{"x":3,"y":9},{"x":2,"y":9},{"x":1,"y":9},{"x":1,"y":8},{"x":1,"y":7},{"x":0,"y":7},{"x":0,"y":6},{"x":0,"y":5},{"x":0,"y":4},{"x":0,"y":3}],"head":{"x":3,"y":9},"length":10,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    game_state={"game":{"id":"984408","ruleset":{"name":"standard","version":"v.1.2.3"},"timeout":500},"turn":200,"you":{"health":100,"id":"you","name":"#22aa34","body":[{"x":3,"y":0},{"x":3,"y":1},{"x":3,"y":2},{"x":3,"y":3},{"x":3,"y":4},{"x":3,"y":5},{"x":3,"y":6},{"x":4,"y":6},{"x":5,"y":6},{"x":6,"y":6},{"x":7,"y":6},{"x":8,"y":6},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":4},{"x":10,"y":4},{"x":10,"y":5},{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":9,"y":9},{"x":8,"y":9}],"head":{"x":3,"y":0},"length":23},"board":{"food":[{"x":4,"y":10},{"x":10,"y":0}],"height":11,"width":11,"snakes":[{"health":100,"id":"you","name":"#22aa34","body":[{"x":3,"y":0},{"x":3,"y":1},{"x":3,"y":2},{"x":3,"y":3},{"x":3,"y":4},{"x":3,"y":5},{"x":3,"y":6},{"x":4,"y":6},{"x":5,"y":6},{"x":6,"y":6},{"x":7,"y":6},{"x":8,"y":6},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":4},{"x":10,"y":4},{"x":10,"y":5},{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":9,"y":9},{"x":8,"y":9}],"head":{"x":3,"y":0},"length":23},{"health":100,"id":"#FF585f","name":"#FF585f","body":[{"x":0,"y":1},{"x":0,"y":2},{"x":0,"y":3},{"x":0,"y":4},{"x":0,"y":5},{"x":0,"y":6},{"x":0,"y":7},{"x":0,"y":8},{"x":0,"y":9},{"x":0,"y":10},{"x":1,"y":10},{"x":2,"y":10},{"x":2,"y":9},{"x":1,"y":9},{"x":1,"y":8},{"x":2,"y":8}],"head":{"x":0,"y":1},"length":16}]}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    # Could kill and get food
    game_state = {"game":{"id":"89daa363-1c8a-40a2-97d2-0f4d35bf02d4","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":17,"board":{"height":11,"width":11,"snakes":[{"id":"ee6a40ad-9d8f-4405-9ef2-18f0fc106b6c","name":"Rick4","latency":"166","health":83,"body":[{"x":3,"y":0},{"x":3,"y":1},{"x":4,"y":1}],"head":{"x":3,"y":0},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"f1828d2d-331b-43d6-87a0-361a584ebf9f","name":"Nightwing","latency":"251","health":96,"body":[{"x":2,"y":1},{"x":1,"y":1},{"x":1,"y":2},{"x":1,"y":3},{"x":1,"y":4}],"head":{"x":2,"y":1},"length":5,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"49b1b33f-34c2-4e89-a4b3-9b52ce5a9e56","name":"JonK2","latency":"63","health":89,"body":[{"x":6,"y":9},{"x":5,"y":9},{"x":4,"y":9},{"x":4,"y":8},{"x":5,"y":8}],"head":{"x":6,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"231aa930-7946-4610-80fc-da47a1f741a3","name":"Rick2","latency":"188","health":93,"body":[{"x":8,"y":3},{"x":8,"y":4},{"x":8,"y":5},{"x":8,"y":6},{"x":7,"y":6},{"x":6,"y":6}],"head":{"x":8,"y":3},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"542aedbf-a716-441b-9d19-ddb94bee863d","name":"Rick3","latency":"177","health":98,"body":[{"x":1,"y":8},{"x":2,"y":8},{"x":2,"y":9},{"x":3,"y":9},{"x":3,"y":8}],"head":{"x":1,"y":8},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"4e6a8452-db75-47b2-84be-d77d8155b6fb","name":"JonK3","latency":"64","health":85,"body":[{"x":5,"y":0},{"x":5,"y":1},{"x":5,"y":2},{"x":5,"y":3}],"head":{"x":5,"y":0},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":2,"y":0}],"hazards":[]},"you":{"id":"542aedbf-a716-441b-9d19-ddb94bee863d","name":"Rick3","latency":"177","health":98,"body":[{"x":1,"y":8},{"x":2,"y":8},{"x":2,"y":9},{"x":3,"y":9},{"x":3,"y":8}],"head":{"x":1,"y":8},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]

    # Go for edge kill
    game_state={"game":{"id":"28ed1cda-afe6-4d05-a566-8d2cf0a8f2af","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":85,"board":{"height":11,"width":11,"snakes":[{"id":"855756ea-d478-48ef-a45f-d86ab19f268c","name":"Nightwing","latency":"237","health":93,"body":[{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7},{"x":5,"y":7},{"x":6,"y":7},{"x":7,"y":7}],"head":{"x":2,"y":7},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"21763327-6d6e-4028-87d8-5060b1e6fa4d","name":"JonK2","latency":"25","health":86,"body":[{"x":5,"y":6},{"x":6,"y":6},{"x":6,"y":5},{"x":6,"y":4},{"x":6,"y":3},{"x":7,"y":3},{"x":7,"y":2},{"x":8,"y":2},{"x":9,"y":2},{"x":10,"y":2},{"x":10,"y":1},{"x":9,"y":1}],"head":{"x":5,"y":6},"length":12,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"3bd0031c-3c56-4356-b93a-f2bbbe26751f","name":"Rick2","latency":"115","health":95,"body":[{"x":3,"y":6},{"x":4,"y":6},{"x":4,"y":5},{"x":4,"y":4},{"x":3,"y":4},{"x":2,"y":4},{"x":2,"y":5}],"head":{"x":3,"y":6},"length":7,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"8e6ed87b-d308-4b9c-a1f6-34ddce4187c6","name":"JonK","latency":"14","health":93,"body":[{"x":0,"y":5},{"x":0,"y":4},{"x":0,"y":3},{"x":0,"y":2},{"x":1,"y":2},{"x":2,"y":2},{"x":2,"y":1},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0}],"head":{"x":0,"y":5},"length":10,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":0,"y":7},{"x":10,"y":3}],"hazards":[]},"you":{"id":"d8e1d216-97a9-41c5-905c-be866dc9fb39","name":"Rick","latency":"183","health":100,"body":[{"x":5,"y":0},{"x":6,"y":0},{"x":7,"y":0},{"x":8,"y":0},{"x":8,"y":0}],"head":{"x":5,"y":0},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]

    # Go for snake that's trapped
    game_state={"game":{"id":"28ed1cda-afe6-4d05-a566-8d2cf0a8f2af","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":247,"board":{"height":11,"width":11,"snakes":[{"id":"855756ea-d478-48ef-a45f-d86ab19f268c","name":"Nightwing","latency":"186","health":99,"body":[{"x":4,"y":7},{"x":5,"y":7},{"x":6,"y":7},{"x":6,"y":6},{"x":6,"y":5},{"x":6,"y":4},{"x":7,"y":4},{"x":7,"y":3},{"x":8,"y":3},{"x":9,"y":3},{"x":9,"y":4},{"x":9,"y":5},{"x":9,"y":6},{"x":9,"y":7},{"x":8,"y":7},{"x":8,"y":8},{"x":7,"y":8},{"x":7,"y":9},{"x":7,"y":10},{"x":6,"y":10}],"head":{"x":4,"y":7},"length":20,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"21763327-6d6e-4028-87d8-5060b1e6fa4d","name":"JonK2","latency":"11","health":83,"body":[{"x":8,"y":1},{"x":9,"y":1},{"x":9,"y":0},{"x":8,"y":0},{"x":7,"y":0},{"x":6,"y":0},{"x":6,"y":1},{"x":6,"y":2},{"x":5,"y":2},{"x":5,"y":1},{"x":4,"y":1},{"x":3,"y":1},{"x":3,"y":0},{"x":2,"y":0},{"x":2,"y":1},{"x":1,"y":1},{"x":0,"y":1},{"x":0,"y":2},{"x":1,"y":2},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":3},{"x":4,"y":3}],"head":{"x":8,"y":1},"length":23,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":0,"y":5},{"x":10,"y":9},{"x":10,"y":10},{"x":5,"y":0},{"x":9,"y":8}],"hazards":[]},"you":{"id":"214505f0-38cd-436b-bb52-24081af01da0","name":"Rick4","latency":"206","health":84,"body":[{"x":2,"y":8},{"x":3,"y":8},{"x":3,"y":7},{"x":2,"y":7}],"head":{"x":2,"y":8},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["down"]

    # Cut off opponent
    game_state = {"game":{"id":"8533c7c3-8372-4d85-acc4-4954d5c0aa4b","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":139,"board":{"height":11,"width":11,"snakes":[{"id":"30b31eb5-c9cf-48e7-9c40-b3824fff2cc3","name":"Nightwing","latency":"122","health":83,"body":[{"x":5,"y":6},{"x":4,"y":6},{"x":3,"y":6},{"x":3,"y":5},{"x":4,"y":5},{"x":5,"y":5},{"x":5,"y":4},{"x":4,"y":4},{"x":4,"y":3},{"x":3,"y":3},{"x":3,"y":2},{"x":2,"y":2},{"x":2,"y":3}],"head":{"x":5,"y":6},"length":13,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"46b6ee1d-6ed1-472b-ab03-53fff9c83431","name":"JonK","latency":"109","health":91,"body":[{"x":6,"y":3},{"x":6,"y":2},{"x":5,"y":2},{"x":5,"y":1},{"x":5,"y":0},{"x":6,"y":0},{"x":6,"y":1},{"x":7,"y":1},{"x":7,"y":0},{"x":8,"y":0},{"x":8,"y":1},{"x":8,"y":2},{"x":7,"y":2},{"x":7,"y":3},{"x":7,"y":4},{"x":7,"y":5}],"head":{"x":6,"y":3},"length":16,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":10,"y":0}],"hazards":[]},"you":{"id":"b424bc68-1da5-4793-8540-7412ae9398a6","name":"Rick2","latency":"141","health":65,"body":[{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":2,"y":6},{"x":3,"y":6}],"head":{"x":4,"y":5},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    game_state={"game":{"id":"a9c16801-85ab-4a5a-bf2f-5dce03153d06","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":99,"board":{"height":11,"width":11,"snakes":[{"id":"c31dc1ab-5773-4599-86a5-2b905ab2b12f","name":"JonK2","latency":"25","health":94,"body":[{"x":3,"y":4},{"x":4,"y":4},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":6},{"x":1,"y":6},{"x":2,"y":6},{"x":3,"y":6},{"x":4,"y":6},{"x":5,"y":6},{"x":5,"y":7},{"x":6,"y":7},{"x":6,"y":6}],"head":{"x":3,"y":4},"length":16,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"a2a60cce-0aa8-493d-9d88-558b58a1a3ed","name":"Rick4","latency":"110","health":100,"body":[{"x":3,"y":8},{"x":3,"y":9},{"x":4,"y":9},{"x":4,"y":10},{"x":5,"y":10},{"x":6,"y":10},{"x":7,"y":10},{"x":8,"y":10},{"x":9,"y":10},{"x":9,"y":10}],"head":{"x":3,"y":8},"length":10,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"145bbc09-4cea-49f8-a778-8f09f0b01e84","name":"Nightwing","latency":"127","health":96,"body":[{"x":3,"y":2},{"x":2,"y":2},{"x":1,"y":2},{"x":1,"y":3},{"x":2,"y":3},{"x":3,"y":3},{"x":4,"y":3},{"x":5,"y":3},{"x":6,"y":3}],"head":{"x":3,"y":2},"length":9,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":1,"y":7}],"hazards":[]},"you":{"id":"c31dc1ab-5773-4599-86a5-2b905ab2b12f","name":"JonK2","latency":"25","health":94,"body":[{"x":3,"y":4},{"x":4,"y":4},{"x":4,"y":5},{"x":3,"y":5},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":6},{"x":1,"y":6},{"x":2,"y":6},{"x":3,"y":6},{"x":4,"y":6},{"x":5,"y":6},{"x":5,"y":7},{"x":6,"y":7},{"x":6,"y":6}],"head":{"x":3,"y":4},"length":16,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]
    game_state={"game":{"id":"7ff0f8c7-7d4b-49ce-9dbd-4a67dc9c5f60","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":319,"board":{"height":11,"width":11,"snakes":[{"id":"b7f14a1e-651a-44ce-8c78-471db9b2bea7","name":"Nightwing","latency":"91","health":100,"body":[{"x":5,"y":0},{"x":5,"y":1},{"x":5,"y":2},{"x":5,"y":3},{"x":5,"y":4},{"x":5,"y":5},{"x":5,"y":6},{"x":5,"y":7},{"x":5,"y":8},{"x":6,"y":8},{"x":6,"y":9},{"x":6,"y":10},{"x":7,"y":10},{"x":8,"y":10},{"x":9,"y":10},{"x":9,"y":9},{"x":9,"y":8},{"x":10,"y":8},{"x":10,"y":7},{"x":10,"y":6},{"x":10,"y":5},{"x":10,"y":4},{"x":10,"y":3},{"x":10,"y":2},{"x":10,"y":1},{"x":9,"y":1},{"x":9,"y":1}],"head":{"x":5,"y":0},"length":27,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"f934c169-4490-4306-88e2-b3ead9bc10d6","name":"Rick","latency":"109","health":82,"body":[{"x":3,"y":4},{"x":2,"y":4},{"x":1,"y":4},{"x":1,"y":5},{"x":2,"y":5},{"x":2,"y":6},{"x":3,"y":6},{"x":3,"y":7},{"x":4,"y":7},{"x":4,"y":8},{"x":3,"y":8},{"x":2,"y":8},{"x":1,"y":8},{"x":1,"y":7},{"x":1,"y":6},{"x":0,"y":6},{"x":0,"y":5},{"x":0,"y":4},{"x":0,"y":3},{"x":1,"y":3},{"x":2,"y":3}],"head":{"x":3,"y":4},"length":21,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":1,"y":9}],"hazards":[]},"you":{"id":"4d9265e1-72cb-41b6-84e8-ac2b3c82e8d4","name":"Rick3","latency":"115","health":75,"body":[{"x":10,"y":-1},{"x":10,"y":0},{"x":9,"y":0}],"head":{"x":10,"y":-1},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    game_state = {"game":{"id":"5f48c478-724e-4b52-9c91-5404fe8d0be8","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":306,"board":{"height":11,"width":11,"snakes":[{"id":"8a1cf727-771b-440b-b184-7357ef44aa85","name":"Nightwing","latency":"99","health":92,"body":[{"x":9,"y":7},{"x":10,"y":7},{"x":10,"y":6},{"x":10,"y":5},{"x":10,"y":4},{"x":10,"y":3},{"x":10,"y":2},{"x":10,"y":1},{"x":10,"y":0},{"x":9,"y":0},{"x":9,"y":1},{"x":8,"y":1},{"x":7,"y":1},{"x":7,"y":2},{"x":6,"y":2},{"x":6,"y":3},{"x":7,"y":3}],"head":{"x":9,"y":7},"length":17,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"ced01f1e-7493-44a2-8816-446e83528422","name":"Rick2","latency":"117","health":97,"body":[{"x":5,"y":9},{"x":5,"y":10},{"x":4,"y":10},{"x":3,"y":10},{"x":3,"y":9},{"x":3,"y":8},{"x":3,"y":7},{"x":3,"y":6},{"x":3,"y":5},{"x":3,"y":4},{"x":3,"y":3},{"x":4,"y":3},{"x":4,"y":4},{"x":4,"y":5},{"x":4,"y":6},{"x":4,"y":7},{"x":4,"y":8},{"x":5,"y":8},{"x":6,"y":8},{"x":6,"y":7},{"x":6,"y":6},{"x":6,"y":5},{"x":6,"y":4},{"x":5,"y":4},{"x":5,"y":3},{"x":5,"y":2},{"x":5,"y":1},{"x":4,"y":1},{"x":3,"y":1}],"head":{"x":5,"y":9},"length":29,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":10,"y":9},{"x":1,"y":0}],"hazards":[]},"you":{"id":"2c1ab8d7-26d6-4e63-83e6-86ec85dd21d0","name":"JonK2","latency":"33","health":98,"body":[{"x":1,"y":3},{"x":0,"y":3},{"x":0,"y":2},{"x":1,"y":2},{"x":2,"y":2}],"head":{"x":1,"y":3},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]

    # TODO immediate kill and delay kill are the same?
    game_state ={"game":{"id":"9ac7f829-ebe8-4273-8f60-1634af7a7d45","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":74,"board":{"height":11,"width":11,"snakes":[{"id":"e54c43c7-aabf-4646-aef0-3e3121bf5aaf","name":"Nightwing","latency":"134","health":94,"body":[{"x":1,"y":3},{"x":1,"y":2},{"x":1,"y":1},{"x":2,"y":1},{"x":2,"y":2},{"x":3,"y":2},{"x":3,"y":3},{"x":3,"y":4},{"x":3,"y":5},{"x":2,"y":5}],"head":{"x":1,"y":3},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"67dfc723-2509-4495-9254-e4e096b473aa","name":"Rick","latency":"147","health":57,"body":[{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":4,"y":1},{"x":5,"y":1},{"x":5,"y":2},{"x":4,"y":2}],"head":{"x":2,"y":0},"length":7,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"3ce8aa47-5987-4074-9dd0-a6329743d42c","name":"JonK2","latency":"37","health":100,"body":[{"x":9,"y":1},{"x":10,"y":1},{"x":10,"y":2},{"x":10,"y":3},{"x":9,"y":3},{"x":8,"y":3},{"x":7,"y":3},{"x":7,"y":2},{"x":6,"y":2},{"x":6,"y":1},{"x":6,"y":1}],"head":{"x":9,"y":1},"length":11,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":5,"y":10}],"hazards":[]},"you":{"id":"3ce8aa47-5987-4074-9dd0-a6329743d42c","name":"JonK2","latency":"37","health":100,"body":[{"x":9,"y":1},{"x":10,"y":1},{"x":10,"y":2},{"x":10,"y":3},{"x":9,"y":3},{"x":8,"y":3},{"x":7,"y":3},{"x":7,"y":2},{"x":6,"y":2},{"x":6,"y":1},{"x":6,"y":1}],"head":{"x":9,"y":1},"length":11,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left", "up"]
    # Penalise any opponent lack of space
    game_state = {"game":{"id":"60e1b749-34f3-4558-9940-5a9f0e48a6cd","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":221,"board":{"height":11,"width":11,"snakes":[{"id":"2698362f-d048-48ac-9606-ca78e22e4099","name":"Einar","latency":"92","health":90,"body":[{"x":2,"y":5},{"x":3,"y":5},{"x":3,"y":4},{"x":3,"y":3},{"x":4,"y":3},{"x":4,"y":4},{"x":4,"y":5},{"x":4,"y":6},{"x":4,"y":7},{"x":4,"y":8},{"x":4,"y":9},{"x":3,"y":9},{"x":2,"y":9},{"x":1,"y":9},{"x":0,"y":9},{"x":0,"y":8},{"x":0,"y":7},{"x":0,"y":6},{"x":0,"y":5},{"x":0,"y":4},{"x":0,"y":3},{"x":0,"y":2},{"x":0,"y":1}],"head":{"x":2,"y":5},"length":23,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}},{"id":"70356921-27a0-4af4-8281-6eb38e35b574","name":"Nightwing","latency":"140","health":80,"body":[{"x":3,"y":2},{"x":4,"y":2},{"x":5,"y":2},{"x":6,"y":2},{"x":6,"y":3},{"x":5,"y":3},{"x":5,"y":4},{"x":5,"y":5},{"x":6,"y":5},{"x":7,"y":5},{"x":7,"y":6},{"x":8,"y":6},{"x":8,"y":7},{"x":9,"y":7},{"x":9,"y":6},{"x":9,"y":5},{"x":9,"y":4},{"x":9,"y":3}],"head":{"x":3,"y":2},"length":18,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":1,"y":5}],"hazards":[]},"you":{"id":"11937642-f2c6-49f2-a135-fdd78d4aa332","name":"Jesse","latency":"31","health":94,"body":[{"x":3,"y":3},{"x":3,"y":4},{"x":3,"y":3}],"head":{"x":3,"y":3},"length":3,"shout":"","squad":"","customizations":{"color":"#E04C07","head":"missile","tail":"nr-booster"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    # Go for the kill anyway
    game_state = {"game":{"id":"248345","ruleset":{"name":"standard","version":"v.1.2.3"},"timeout":500},"turn":200,"you":{"health":100,"id":"you","name":"#22aa34","body":[{"x":6,"y":9},{"x":6,"y":8},{"x":6,"y":7},{"x":6,"y":6},{"x":6,"y":5},{"x":6,"y":4},{"x":7,"y":4},{"x":7,"y":3},{"x":7,"y":2},{"x":6,"y":2},{"x":6,"y":1},{"x":4,"y":0},{"x":5,"y":0},{"x":6,"y":0}],"head":{"x":6,"y":9},"length":14},"board":{"food":[],"height":11,"width":11,"snakes":[{"health":100,"id":"you","name":"#22aa34","body":[{"x":6,"y":9},{"x":6,"y":8},{"x":6,"y":7},{"x":6,"y":6},{"x":6,"y":5},{"x":6,"y":4},{"x":7,"y":4},{"x":7,"y":3},{"x":7,"y":2},{"x":6,"y":2},{"x":6,"y":1},{"x":4,"y":0},{"x":5,"y":0},{"x":6,"y":0}],"head":{"x":6,"y":9},"length":14},{"health":100,"id":"#FFa267","name":"#FFa267","body":[{"x":9,"y":8},{"x":9,"y":9},{"x":8,"y":9},{"x":8,"y":8},{"x":8,"y":7},{"x":9,"y":7},{"x":9,"y":6},{"x":10,"y":6},{"x":10,"y":5},{"x":10,"y":4},{"x":10,"y":3}],"head":{"x":9,"y":8},"length":11},{"health":100,"id":"#FF95c1","name":"#FF95c1","body":[{"x":2,"y":9},{"x":2,"y":10},{"x":1,"y":10},{"x":1,"y":9},{"x":1,"y":8},{"x":1,"y":7},{"x":1,"y":6},{"x":2,"y":6},{"x":3,"y":6},{"x":3,"y":5},{"x":4,"y":5},{"x":5,"y":5},{"x":5,"y":4}],"head":{"x":2,"y":9},"length":13}]}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["left"]


def test_big_brain():
    # Wait around to see if they take the bait
    game_state ={"game":{"id":"c268d80b-0c34-4750-9cf3-a1e4faa4b2d8","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":71,"board":{"width":11,"height":11,"food":[{"x":3,"y":9},{"x":3,"y":0}],"hazards":[],"snakes":[{"id":"gs_MmKHhd8bWHDkX9ghfxVRcdrV","name":"vongola","health":96,"body":[{"x":6,"y":5},{"x":7,"y":5},{"x":7,"y":6},{"x":8,"y":6},{"x":9,"y":6},{"x":9,"y":7},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9}],"latency":199,"head":{"x":6,"y":5},"length":9,"shout":"","squad":"","customizations":{"color":"#f0c300","head":"tiger-king","tail":"tiger-tail"}},{"id":"gs_k7wyHVQHFHT9YbqKhVX3F6RQ","name":"Nightwing","health":99,"body":[{"x":3,"y":2},{"x":3,"y":1},{"x":2,"y":1},{"x":2,"y":2},{"x":2,"y":3},{"x":2,"y":4}],"latency":236,"head":{"x":3,"y":2},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"gs_4pRgg9JBJdm6TpcyvvcVPqQJ","name":"pingo-snake","health":95,"body":[{"x":1,"y":0},{"x":0,"y":0},{"x":0,"y":1},{"x":0,"y":2},{"x":0,"y":3},{"x":0,"y":4},{"x":0,"y":5},{"x":0,"y":6}],"latency":99,"head":{"x":1,"y":0},"length":8,"shout":"","squad":"","customizations":{"color":"#736ccb","head":"beluga","tail":"curled"}}]},"you":{"id":"gs_k7wyHVQHFHT9YbqKhVX3F6RQ","name":"Nightwing","health":99,"body":[{"x":3,"y":2},{"x":3,"y":1},{"x":2,"y":1},{"x":2,"y":2},{"x":2,"y":3},{"x":2,"y":4}],"latency":236,"head":{"x":3,"y":2},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]

def test_cutoff():
    # We're gonna get cut off > 2 opps
    game_state = {"game":{"id":"e1a2089e-1ac7-45c0-9905-022ed1c5c19c","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":114,"board":{"width":11,"height":11,"food":[{"x":8,"y":1},{"x":9,"y":4},{"x":10,"y":1}],"hazards":[],"snakes":[{"id":"gs_9vXm8Fjk8YdBDxXwXJXjbX9S","name":"Logic baby","health":66,"body":[{"x":3,"y":1},{"x":3,"y":2},{"x":3,"y":3},{"x":3,"y":4},{"x":3,"y":5},{"x":3,"y":6},{"x":3,"y":7},{"x":3,"y":8},{"x":3,"y":9}],"latency":83,"head":{"x":3,"y":1},"length":9,"shout":"","squad":"","customizations":{"color":"#99004d","head":"smart-caterpillar","tail":"mouse"}},{"id":"gs_QR8QGkrXqSFGhXcyBF7WRYrC","name":"Nightwing","health":70,"body":[{"x":9,"y":5},{"x":10,"y":5},{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":10,"y":10},{"x":9,"y":10},{"x":8,"y":10},{"x":7,"y":10},{"x":7,"y":9},{"x":8,"y":9},{"x":9,"y":9}],"latency":192,"head":{"x":9,"y":5},"length":13,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"gs_7ygJ8GCqmtXkdkd6KGMFjqHR","name":"pingo-snake","health":81,"body":[{"x":8,"y":4},{"x":8,"y":5},{"x":7,"y":5},{"x":6,"y":5},{"x":5,"y":5},{"x":4,"y":5},{"x":4,"y":6},{"x":4,"y":7}],"latency":69,"head":{"x":8,"y":4},"length":8,"shout":"","squad":"","customizations":{"color":"#736ccb","head":"beluga","tail":"curled"}}]},"you":{"id":"gs_QR8QGkrXqSFGhXcyBF7WRYrC","name":"Nightwing","health":70,"body":[{"x":9,"y":5},{"x":10,"y":5},{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":10,"y":10},{"x":9,"y":10},{"x":8,"y":10},{"x":7,"y":10},{"x":7,"y":9},{"x":8,"y":9},{"x":9,"y":9}],"latency":192,"head":{"x":9,"y":5},"length":13,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    # We die if we go for the kill
    game_state = {"game":{"id":"88f5aa64-f78d-4538-b245-06b4fd2a1600","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":63,"board":{"width":11,"height":11,"food":[{"x":0,"y":0},{"x":2,"y":9},{"x":8,"y":2}],"hazards":[],"snakes":[{"id":"gs_xWB7pMHx8C76dtMYgGH7dwBC","name":"Logic baby","health":37,"body":[{"x":9,"y":0},{"x":9,"y":1},{"x":8,"y":1}],"latency":152,"head":{"x":9,"y":0},"length":3,"shout":"","squad":"","customizations":{"color":"#99004d","head":"smart-caterpillar","tail":"mouse"}},{"id":"gs_W8bCgFBWDrbGFxg4qSwbKRVW","name":"Nightwing","health":100,"body":[{"x":1,"y":0},{"x":1,"y":1},{"x":1,"y":2},{"x":2,"y":2},{"x":2,"y":3},{"x":3,"y":3},{"x":3,"y":4},{"x":4,"y":4},{"x":5,"y":4},{"x":5,"y":4}],"latency":294,"head":{"x":1,"y":0},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"gs_FC4xWCG7xpCbW9HPyYGVd94H","name":"babble_snake","health":77,"body":[{"x":2,"y":5},{"x":3,"y":5},{"x":4,"y":5},{"x":4,"y":6},{"x":5,"y":6},{"x":5,"y":7},{"x":4,"y":7},{"x":3,"y":7}],"latency":51,"head":{"x":2,"y":5},"length":8,"shout":"","squad":"","customizations":{"color":"#e89e0e","head":"all-seeing","tail":"bolt"}},{"id":"gs_byYvCv7mMc4xCXrtVhjkJV3B","name":"pingo-snake","health":81,"body":[{"x":0,"y":1},{"x":0,"y":2},{"x":0,"y":3},{"x":0,"y":4},{"x":0,"y":5},{"x":1,"y":5},{"x":1,"y":6}],"latency":51,"head":{"x":0,"y":1},"length":7,"shout":"","squad":"","customizations":{"color":"#736ccb","head":"beluga","tail":"curled"}}]},"you":{"id":"gs_W8bCgFBWDrbGFxg4qSwbKRVW","name":"Nightwing","health":100,"body":[{"x":1,"y":0},{"x":1,"y":1},{"x":1,"y":2},{"x":2,"y":2},{"x":2,"y":3},{"x":3,"y":3},{"x":3,"y":4},{"x":4,"y":4},{"x":5,"y":4},{"x":5,"y":4}],"latency":294,"head":{"x":1,"y":0},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]
    # Dead if we head towards the longer snake who'll get food
    game_state = {"game":{"id":"9988dc10-70ca-49f9-a34d-2f2e91166508","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":103,"board":{"width":11,"height":11,"food":[{"x":7,"y":4}],"hazards":[],"snakes":[{"id":"gs_8CHDD6FhwSQQrF4XMkMWRMQb","name":"Darktooth","health":99,"body":[{"x":3,"y":8},{"x":2,"y":8},{"x":2,"y":7},{"x":1,"y":7},{"x":1,"y":6},{"x":0,"y":6},{"x":0,"y":5},{"x":0,"y":4},{"x":0,"y":3},{"x":1,"y":3},{"x":1,"y":4}],"latency":43,"head":{"x":3,"y":8},"length":11,"shout":"Goin ' right","squad":"","customizations":{"color":"#000030","head":"pixel-round","tail":"pixel-round"}},{"id":"gs_8kYybX8wQqbF3Hq6ykFMMxPH","name":"Nightwing","health":100,"body":[{"x":10,"y":1},{"x":9,"y":1},{"x":8,"y":1},{"x":7,"y":1},{"x":7,"y":2},{"x":6,"y":2},{"x":5,"y":2},{"x":4,"y":2},{"x":3,"y":2},{"x":2,"y":2},{"x":2,"y":2}],"latency":197,"head":{"x":10,"y":1},"length":11,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"gs_4VGMWY4RVpdWjYF8Y6SDKSYX","name":"Pately","health":93,"body":[{"x":10,"y":5},{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":10,"y":10},{"x":9,"y":10},{"x":8,"y":10},{"x":8,"y":9},{"x":8,"y":8},{"x":8,"y":7}],"latency":139,"head":{"x":10,"y":5},"length":11,"shout":"","squad":"","customizations":{"color":"#f54242","head":"dragon","tail":"ion"}}]},"you":{"id":"gs_8kYybX8wQqbF3Hq6ykFMMxPH","name":"Nightwing","health":100,"body":[{"x":10,"y":1},{"x":9,"y":1},{"x":8,"y":1},{"x":7,"y":1},{"x":7,"y":2},{"x":6,"y":2},{"x":5,"y":2},{"x":4,"y":2},{"x":3,"y":2},{"x":2,"y":2},{"x":2,"y":2}],"latency":197,"head":{"x":10,"y":1},"length":11,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]
    # Big brain move can't go down
    game_state={"game":{"id":"728f3521-d868-4741-8bb7-f176ba69c4cf","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":22,"board":{"height":11,"width":11,"snakes":[{"id":"af36772c-17e1-41d9-b75f-fd5caf52d64e","name":"JonK2","latency":"24","health":99,"body":[{"x":3,"y":1},{"x":2,"y":1},{"x":1,"y":1},{"x":1,"y":2},{"x":0,"y":2},{"x":0,"y":3},{"x":1,"y":3}],"head":{"x":3,"y":1},"length":7,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"ec92c47e-a529-45d2-a059-058537a49088","name":"Nightwing","latency":"153","health":100,"body":[{"x":7,"y":1},{"x":7,"y":2},{"x":7,"y":3},{"x":7,"y":4},{"x":7,"y":5},{"x":7,"y":5}],"head":{"x":7,"y":1},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"b6371fab-116b-4389-b096-dc137994c295","name":"Matt","latency":"39","health":78,"body":[{"x":1,"y":5},{"x":1,"y":6},{"x":1,"y":7}],"head":{"x":1,"y":5},"length":3,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}},{"id":"5247bde7-c4b2-4253-b2b2-1794efd4a005","name":"Glynn","latency":"36","health":78,"body":[{"x":5,"y":1},{"x":6,"y":1},{"x":6,"y":2}],"head":{"x":5,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}},{"id":"861f6b95-6045-45aa-bc0e-341ca45b6fb1","name":"Jesse","latency":"29","health":80,"body":[{"x":10,"y":2},{"x":10,"y":3},{"x":10,"y":4},{"x":10,"y":5}],"head":{"x":10,"y":2},"length":4,"shout":"","squad":"","customizations":{"color":"#E04C07","head":"missile","tail":"nr-booster"}},{"id":"d99c70d9-3f6c-4d1f-a0a4-5e3f4a3358a0","name":"JonK","latency":"25","health":92,"body":[{"x":5,"y":5},{"x":5,"y":6},{"x":6,"y":6},{"x":7,"y":6},{"x":7,"y":7},{"x":7,"y":8}],"head":{"x":5,"y":5},"length":6,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":4,"y":4}],"hazards":[]},"you":{"id":"af36772c-17e1-41d9-b75f-fd5caf52d64e","name":"JonK2","latency":"24","health":99,"body":[{"x":3,"y":1},{"x":2,"y":1},{"x":1,"y":1},{"x":1,"y":2},{"x":0,"y":2},{"x":0,"y":3},{"x":1,"y":3}],"head":{"x":3,"y":1},"length":7,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]

def test_entrapment():
    # Avoid getting trapped
    game_state = {"game":{"id":"8533c7c3-8372-4d85-acc4-4954d5c0aa4b","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":246,"board":{"height":11,"width":11,"snakes":[{"id":"30b31eb5-c9cf-48e7-9c40-b3824fff2cc3","name":"Nightwing","latency":"255","health":89,"body":[{"x":10,"y":4},{"x":9,"y":4},{"x":9,"y":3},{"x":9,"y":2},{"x":9,"y":1},{"x":9,"y":0},{"x":8,"y":0},{"x":8,"y":1},{"x":8,"y":2},{"x":8,"y":3},{"x":8,"y":4},{"x":8,"y":5},{"x":7,"y":5},{"x":7,"y":4},{"x":7,"y":3},{"x":7,"y":2},{"x":7,"y":1}],"head":{"x":10,"y":4},"length":17,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"46b6ee1d-6ed1-472b-ab03-53fff9c83431","name":"JonK","latency":"24","health":100,"body":[{"x":9,"y":7},{"x":8,"y":7},{"x":7,"y":7},{"x":6,"y":7},{"x":6,"y":8},{"x":5,"y":8},{"x":5,"y":9},{"x":5,"y":10},{"x":4,"y":10},{"x":3,"y":10},{"x":2,"y":10},{"x":2,"y":9},{"x":1,"y":9},{"x":0,"y":9},{"x":0,"y":8},{"x":0,"y":7},{"x":0,"y":6},{"x":0,"y":5},{"x":0,"y":4},{"x":1,"y":4},{"x":2,"y":4},{"x":2,"y":5},{"x":2,"y":6},{"x":1,"y":6},{"x":1,"y":7},{"x":1,"y":7}],"head":{"x":9,"y":7},"length":26,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":5,"y":5}],"hazards":[]},"you":{"id":"ad40b1ef-e988-45ab-a06d-ad3f0e060f91","name":"Glynn","latency":"135","health":88,"body":[{"x":6,"y":2},{"x":5,"y":2},{"x":4,"y":2}],"head":{"x":6,"y":2},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    game_state = {"game":{"id":"93583e37-a5d1-4f1a-b682-57883240be6a","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":219,"board":{"height":11,"width":11,"snakes":[{"id":"3d44d587-99e5-4340-8ae4-143247074998","name":"JonK","latency":"21","health":98,"body":[{"x":9,"y":6},{"x":9,"y":5},{"x":10,"y":5},{"x":10,"y":4},{"x":9,"y":4},{"x":8,"y":4},{"x":7,"y":4},{"x":7,"y":3},{"x":6,"y":3},{"x":5,"y":3},{"x":5,"y":2},{"x":4,"y":2},{"x":3,"y":2},{"x":3,"y":3},{"x":4,"y":3},{"x":4,"y":4},{"x":5,"y":4},{"x":5,"y":5},{"x":6,"y":5},{"x":7,"y":5}],"head":{"x":9,"y":6},"length":20,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"b4346106-cf74-4809-ab5d-ee2d1fc4686f","name":"Nightwing","latency":"39","health":100,"body":[{"x":10,"y":1},{"x":9,"y":1},{"x":8,"y":1},{"x":7,"y":1},{"x":6,"y":1},{"x":5,"y":1},{"x":4,"y":1},{"x":3,"y":1},{"x":2,"y":1},{"x":1,"y":1},{"x":1,"y":2},{"x":0,"y":2},{"x":0,"y":3},{"x":1,"y":3},{"x":1,"y":4},{"x":1,"y":5},{"x":2,"y":5},{"x":2,"y":6},{"x":3,"y":6},{"x":3,"y":7},{"x":3,"y":7}],"head":{"x":10,"y":1},"length":21,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":5,"y":9}],"hazards":[]},"you":{"id":"362c38e0-ccb9-43f0-8190-fdae1b1ff8a6","name":"JonK3","latency":"32","health":48,"body":[{"x":8,"y":6},{"x":9,"y":6},{"x":9,"y":7},{"x":10,"y":7},{"x":10,"y":6}],"head":{"x":8,"y":6},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]
    game_state = {"game":{"id":"8a5a7e1e-538b-453d-83df-e908a6f96a2b","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":93,"board":{"height":11,"width":11,"snakes":[{"id":"79562f65-6955-4ec4-89ee-975fca9182ed","name":"Nightwing","latency":"78","health":70,"body":[{"x":3,"y":10},{"x":3,"y":9},{"x":2,"y":9},{"x":1,"y":9},{"x":1,"y":8},{"x":0,"y":8},{"x":0,"y":7}],"head":{"x":3,"y":10},"length":7,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"78838e38-a6aa-4bb9-a9d0-737a895fbf33","name":"Rick","latency":"129","health":54,"body":[{"x":2,"y":7},{"x":3,"y":7},{"x":3,"y":6},{"x":4,"y":6},{"x":5,"y":6},{"x":6,"y":6},{"x":6,"y":5}],"head":{"x":2,"y":7},"length":7,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"702e6cfd-dde1-4cc7-bedd-128e04fe1bac","name":"Rick3","latency":"138","health":91,"body":[{"x":4,"y":7},{"x":4,"y":8},{"x":5,"y":8},{"x":6,"y":8},{"x":7,"y":8},{"x":8,"y":8},{"x":8,"y":9},{"x":7,"y":9},{"x":6,"y":9}],"head":{"x":4,"y":7},"length":9,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"88a19cd6-834b-4358-b573-175c47d751a8","name":"JonK","latency":"13","health":100,"body":[{"x":1,"y":6},{"x":0,"y":6},{"x":0,"y":5},{"x":1,"y":5},{"x":2,"y":5},{"x":3,"y":5},{"x":4,"y":5},{"x":4,"y":4},{"x":4,"y":3},{"x":4,"y":2},{"x":4,"y":1},{"x":4,"y":1}],"head":{"x":1,"y":6},"length":12,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":0,"y":1}],"hazards":[]},"you":{"id":"79562f65-6955-4ec4-89ee-975fca9182ed","name":"Nightwing","latency":"78","health":70,"body":[{"x":3,"y":10},{"x":3,"y":9},{"x":2,"y":9},{"x":1,"y":9},{"x":1,"y":8},{"x":0,"y":8},{"x":0,"y":7}],"head":{"x":3,"y":10},"length":7,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]  # TODO
    # Don't bunch up in the corner fr
    game_state = {"game":{"id":"5f48c478-724e-4b52-9c91-5404fe8d0be8","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":226,"board":{"height":11,"width":11,"snakes":[{"id":"8a1cf727-771b-440b-b184-7357ef44aa85","name":"Nightwing","latency":"182","health":96,"body":[{"x":1,"y":7},{"x":2,"y":7},{"x":2,"y":8},{"x":2,"y":9},{"x":2,"y":10},{"x":3,"y":10},{"x":3,"y":9},{"x":4,"y":9},{"x":5,"y":9},{"x":5,"y":10},{"x":6,"y":10},{"x":7,"y":10},{"x":8,"y":10},{"x":9,"y":10}],"head":{"x":1,"y":7},"length":14,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"ced01f1e-7493-44a2-8816-446e83528422","name":"Rick2","latency":"124","health":95,"body":[{"x":4,"y":4},{"x":5,"y":4},{"x":5,"y":5},{"x":6,"y":5},{"x":6,"y":6},{"x":7,"y":6},{"x":8,"y":6},{"x":9,"y":6},{"x":9,"y":5},{"x":9,"y":4},{"x":10,"y":4},{"x":10,"y":3},{"x":9,"y":3},{"x":9,"y":2},{"x":9,"y":1},{"x":8,"y":1},{"x":7,"y":1},{"x":6,"y":1}],"head":{"x":4,"y":4},"length":18,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":3,"y":3},{"x":8,"y":2},{"x":5,"y":1}],"hazards":[]},"you":{"id":"c71b5283-26d6-4077-ba2a-1b593564ae85","name":"Rick3","latency":"171","health":74,"body":[{"x":0,"y":6},{"x":0,"y":7},{"x":0,"y":8},{"x":0,"y":9}],"head":{"x":0,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]
    # game_state={"game":{"id":"8b28ba61-a8f8-48ef-87ba-de779f9a60ba","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":13,"board":{"height":11,"width":11,"snakes":[{"id":"f7611ab5-0fa8-49ab-8b44-f8bed2674960","name":"Matt","latency":"47","health":96,"body":[{"x":10,"y":5},{"x":9,"y":5},{"x":9,"y":4},{"x":9,"y":3}],"head":{"x":10,"y":5},"length":4,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}},{"id":"f140c786-7d14-4540-a2f7-0be9c7663104","name":"Nightwing","latency":"65","health":89,"body":[{"x":8,"y":7},{"x":8,"y":6},{"x":7,"y":6},{"x":7,"y":5}],"head":{"x":8,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"f5e14a0c-6746-44b0-be7a-e24f39169dcd","name":"Rick","latency":"139","health":95,"body":[{"x":5,"y":4},{"x":5,"y":3},{"x":4,"y":3},{"x":4,"y":4}],"head":{"x":5,"y":4},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}},{"id":"c99a2cd1-504c-4cdd-934d-7c62c95bab9b","name":"JonK2","latency":"25","health":97,"body":[{"x":3,"y":4},{"x":3,"y":5},{"x":2,"y":5},{"x":2,"y":6},{"x":3,"y":6}],"head":{"x":3,"y":4},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"5b64a149-553a-4efa-8e7d-c34df45fae5a","name":"Rick3","latency":"145","health":89,"body":[{"x":2,"y":9},{"x":1,"y":9},{"x":1,"y":8},{"x":1,"y":7}],"head":{"x":2,"y":9},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}},{"id":"3082f705-6062-4161-bb98-22414c13df4a","name":"JonK","latency":"23","health":89,"body":[{"x":6,"y":9},{"x":6,"y":8},{"x":5,"y":8},{"x":5,"y":7}],"head":{"x":6,"y":9},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"734381ef-aabf-4ee5-bf53-5004d3faa262","name":"JonK3","latency":"27","health":93,"body":[{"x":7,"y":4},{"x":7,"y":3},{"x":7,"y":2},{"x":8,"y":2},{"x":8,"y":1}],"head":{"x":7,"y":4},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":7,"y":9},{"x":0,"y":4}],"hazards":[]},"you":{"id":"3082f705-6062-4161-bb98-22414c13df4a","name":"JonK","latency":"23","health":89,"body":[{"x":6,"y":9},{"x":6,"y":8},{"x":5,"y":8},{"x":5,"y":7}],"head":{"x":6,"y":9},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    # next_move = Battlesnake(game_state).optimal_move()
    # assert next_move in ["left"]

    # Realise you're getting trapped
    game_state = {"game":{"id":"4ab5c3be-b5e7-4b5d-8eb2-85ef92fa26e3","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":195,"board":{"height":11,"width":11,"snakes":[{"id":"b65338d4-f053-4db2-aaad-6f6dedb5a63d","name":"Rick2","latency":"107","health":88,"body":[{"x":9,"y":4},{"x":9,"y":5},{"x":8,"y":5},{"x":8,"y":6},{"x":8,"y":7},{"x":8,"y":8},{"x":7,"y":8},{"x":7,"y":9},{"x":7,"y":10},{"x":6,"y":10},{"x":5,"y":10},{"x":4,"y":10},{"x":3,"y":10},{"x":2,"y":10},{"x":1,"y":10},{"x":0,"y":10},{"x":0,"y":9},{"x":1,"y":9},{"x":1,"y":8}],"head":{"x":9,"y":4},"length":19,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"9e9cd890-66e3-47ce-8c3f-50180c940740","name":"Nightwing","latency":"192","health":99,"body":[{"x":3,"y":0},{"x":3,"y":1},{"x":4,"y":1},{"x":5,"y":1},{"x":6,"y":1},{"x":7,"y":1},{"x":8,"y":1},{"x":8,"y":2},{"x":7,"y":2},{"x":7,"y":3},{"x":7,"y":4},{"x":7,"y":5},{"x":6,"y":5},{"x":5,"y":5},{"x":4,"y":5},{"x":4,"y":6},{"x":4,"y":7},{"x":3,"y":7},{"x":2,"y":7},{"x":2,"y":6},{"x":3,"y":6},{"x":3,"y":5}],"head":{"x":3,"y":0},"length":22,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}],"food":[{"x":9,"y":3}],"hazards":[]},"you":{"id":"9e9cd890-66e3-47ce-8c3f-50180c940740","name":"Nightwing","latency":"192","health":99,"body":[{"x":3,"y":0},{"x":3,"y":1},{"x":4,"y":1},{"x":5,"y":1},{"x":6,"y":1},{"x":7,"y":1},{"x":8,"y":1},{"x":8,"y":2},{"x":7,"y":2},{"x":7,"y":3},{"x":7,"y":4},{"x":7,"y":5},{"x":6,"y":5},{"x":5,"y":5},{"x":4,"y":5},{"x":4,"y":6},{"x":4,"y":7},{"x":3,"y":7},{"x":2,"y":7},{"x":2,"y":6},{"x":3,"y":6},{"x":3,"y":5}],"head":{"x":3,"y":0},"length":22,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    # Loss where you chose the riskier escape route
    game_state = {"game":{"id":"bb920d06-60d6-48d9-8a07-74f7839044c3","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":73,"board":{"width":11,"height":11,"food":[{"x":9,"y":0},{"x":1,"y":8}],"hazards":[],"snakes":[{"id":"gs_c8wvXw9SgPMfTSYBh8mVVSTG","name":"Snake Without Brain","health":89,"body":[{"x":4,"y":9},{"x":5,"y":9},{"x":5,"y":10},{"x":6,"y":10},{"x":6,"y":9},{"x":6,"y":8},{"x":6,"y":7},{"x":6,"y":6},{"x":5,"y":6},{"x":4,"y":6}],"latency":29,"head":{"x":4,"y":9},"length":10,"shout":"","squad":"","customizations":{"color":"#888888","head":"default","tail":"default"}},{"id":"gs_KXjDMb63xcdDtx7WBX69KGhW","name":"cobra","health":43,"body":[{"x":0,"y":7},{"x":1,"y":7},{"x":1,"y":6},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":4}],"latency":99,"head":{"x":0,"y":7},"length":6,"shout":"","squad":"","customizations":{"color":"#111111","head":"bonhomme","tail":"coffee"}},{"id":"gs_B3mXbR6HfSDcbTSbykxgYgq6","name":"SmikkelSnek","health":100,"body":[{"x":5,"y":0},{"x":5,"y":1},{"x":4,"y":1},{"x":4,"y":1}],"latency":99,"head":{"x":5,"y":0},"length":4,"shout":"","squad":"","customizations":{"color":"#ff0000","head":"caffeine","tail":"coffee"}},{"id":"gs_mRyR3fQfg7HjxDQjkwbBBmd9","name":"Nightwing","health":97,"body":[{"x":9,"y":8},{"x":8,"y":8},{"x":8,"y":9},{"x":7,"y":9},{"x":7,"y":8},{"x":7,"y":7},{"x":8,"y":7},{"x":8,"y":6},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":6},{"x":10,"y":6},{"x":10,"y":5},{"x":10,"y":4},{"x":10,"y":3}],"latency":117,"head":{"x":9,"y":8},"length":15,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}]},"you":{"id":"gs_mRyR3fQfg7HjxDQjkwbBBmd9","name":"Nightwing","health":97,"body":[{"x":9,"y":8},{"x":8,"y":8},{"x":8,"y":9},{"x":7,"y":9},{"x":7,"y":8},{"x":7,"y":7},{"x":8,"y":7},{"x":8,"y":6},{"x":8,"y":5},{"x":9,"y":5},{"x":9,"y":6},{"x":10,"y":6},{"x":10,"y":5},{"x":10,"y":4},{"x":10,"y":3}],"latency":117,"head":{"x":9,"y":8},"length":15,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]
    # Crazy realisation that you'll get trapped if you move right
    game_state = {"game":{"id":"eaa5731c-1479-4923-a54d-49094a3e5784","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":64,"board":{"width":11,"height":11,"food":[{"x":9,"y":8}],"hazards":[],"snakes":[{"id":"gs_hSD4WSxmdtS8KpHXFrBKJJrX","name":"Nightwing","health":95,"body":[{"x":7,"y":9},{"x":7,"y":10},{"x":6,"y":10},{"x":5,"y":10},{"x":4,"y":10},{"x":3,"y":10},{"x":3,"y":9},{"x":2,"y":9},{"x":2,"y":8},{"x":2,"y":7}],"latency":131,"head":{"x":7,"y":9},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"gs_7f4cTHtDDJCGTr6qCHGHkWBf","name":"ruby-danger-noodle","health":73,"body":[{"x":7,"y":7},{"x":8,"y":7},{"x":9,"y":7},{"x":9,"y":6},{"x":8,"y":6}],"latency":95,"head":{"x":7,"y":7},"length":5,"shout":"","squad":"","customizations":{"color":"#ff33fb","head":"gamer","tail":"virus"}},{"id":"gs_TVCjGw47dx7rkhvVbtTSJ3VG","name":"BSnake","health":75,"body":[{"x":8,"y":8},{"x":7,"y":8},{"x":6,"y":8},{"x":5,"y":8},{"x":4,"y":8},{"x":4,"y":7},{"x":3,"y":7}],"latency":218,"head":{"x":8,"y":8},"length":7,"shout":"","squad":"","customizations":{"color":"#f3d5a5","head":"smart-caterpillar","tail":"crystal-power"}}]},"you":{"id":"gs_hSD4WSxmdtS8KpHXFrBKJJrX","name":"Nightwing","health":95,"body":[{"x":7,"y":9},{"x":7,"y":10},{"x":6,"y":10},{"x":5,"y":10},{"x":4,"y":10},{"x":3,"y":10},{"x":3,"y":9},{"x":2,"y":9},{"x":2,"y":8},{"x":2,"y":7}],"latency":131,"head":{"x":7,"y":9},"length":10,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["left"]
    # trapped??
    game_state = {"game":{"id":"a4f63d51-65fb-4daa-830d-9d1a1c826a1f","ruleset":{"name":"standard","version":"?","settings":{"foodSpawnChance":15,"minimumFood":1}},"map":"standard","timeout":500,"source":"ladder"},"turn":12,"board":{"width":11,"height":11,"food":[{"x":0,"y":2},{"x":10,"y":2}],"hazards":[],"snakes":[{"id":"gs_pq8TG4FQPQRWqKpFV7Jjq4wP","name":"SMUS_Danger_Noodle","health":88,"body":[{"x":2,"y":8},{"x":2,"y":9},{"x":2,"y":10}],"latency":197,"head":{"x":2,"y":8},"length":3,"shout":"","squad":"","customizations":{"color":"#0bffff","head":"gamer","tail":"pixel"}},{"id":"gs_6qPkPWqMVvrGvMSFVQVTYfq4","name":"Nightwing","health":93,"body":[{"x":3,"y":9},{"x":4,"y":9},{"x":4,"y":10},{"x":5,"y":10},{"x":6,"y":10}],"latency":228,"head":{"x":3,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"gs_TDgQ3BVrQGDk9qYvtvy84HjV","name":"ruby-danger-noodle","health":88,"body":[{"x":4,"y":2},{"x":5,"y":2},{"x":5,"y":3}],"latency":95,"head":{"x":4,"y":2},"length":3,"shout":"","squad":"","customizations":{"color":"#ff33fb","head":"gamer","tail":"virus"}},{"id":"gs_WkHchKpydcvdcWY3c4pR9jqT","name":"Golden","health":98,"body":[{"x":4,"y":6},{"x":5,"y":6},{"x":5,"y":5},{"x":4,"y":5},{"x":3,"y":5},{"x":3,"y":6}],"latency":99,"head":{"x":4,"y":6},"length":6,"shout":"","squad":"","customizations":{"color":"#ffd700","head":"all-seeing","tail":"mlh-gene"}}]},"you":{"id":"gs_6qPkPWqMVvrGvMSFVQVTYfq4","name":"Nightwing","health":93,"body":[{"x":3,"y":9},{"x":4,"y":9},{"x":4,"y":10},{"x":5,"y":10},{"x":6,"y":10}],"latency":228,"head":{"x":3,"y":9},"length":5,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]


def test_stall():
    # Properly stall out
    game_state = {'turn': 281, 'board': {'height': 11, 'width': 11, 'food': [{'x': 3, 'y': 5}], 'hazards': [], 'snakes': [{'id': '72b3e3f7-5597-4104-8fc4-27e47942853e', 'name': 'Nightwing', 'health': 98, 'body': [{'x': 6, 'y': 10}, {'x': 5, 'y': 10}, {'x': 4, 'y': 10}, {'x': 3, 'y': 10}, {'x': 3, 'y': 9}, {'x': 4, 'y': 9}, {'x': 4, 'y': 8}, {'x': 5, 'y': 8}, {'x': 6, 'y': 8}, {'x': 7, 'y': 8}, {'x': 8, 'y': 8}, {'x': 9, 'y': 8}, {'x': 10, 'y': 8}, {'x': 10, 'y': 7}, {'x': 10, 'y': 6}, {'x': 10, 'y': 5}, {'x': 10, 'y': 4}, {'x': 10, 'y': 3}, {'x': 10, 'y': 2}, {'x': 10, 'y': 1}, {'x': 10, 'y': 0}], 'head': {'x': 6, 'y': 10}, 'length': 21, 'food_eaten': None}, {'id': 'f719a121-a185-43fa-ab77-49d6a1f10dfc', 'name': 'JonK2', 'health': 94, 'body': [{'x': 1, 'y': 4}, {'x': 0, 'y': 4}, {'x': 0, 'y': 3}, {'x': 0, 'y': 2}, {'x': 0, 'y': 1}, {'x': 0, 'y': 0}, {'x': 1, 'y': 0}, {'x': 1, 'y': 1}, {'x': 1, 'y': 2}, {'x': 2, 'y': 2}, {'x': 2, 'y': 1}, {'x': 3, 'y': 1}, {'x': 3, 'y': 0}, {'x': 4, 'y': 0}, {'x': 5, 'y': 0}, {'x': 6, 'y': 0}, {'x': 6, 'y': 1}, {'x': 6, 'y': 2}, {'x': 5, 'y': 2}, {'x': 5, 'y': 1}, {'x': 4, 'y': 1}, {'x': 4, 'y': 2}, {'x': 3, 'y': 2}], 'head': {'x': 1, 'y': 4}, 'length': 23, 'food_eaten': None}]}, 'you': {'id': '72b3e3f7-5597-4104-8fc4-27e47942853e', 'name': 'Nightwing', 'health': 98, 'body': [{'x': 6, 'y': 10}, {'x': 5, 'y': 10}, {'x': 4, 'y': 10}, {'x': 3, 'y': 10}, {'x': 3, 'y': 9}, {'x': 4, 'y': 9}, {'x': 4, 'y': 8}, {'x': 5, 'y': 8}, {'x': 6, 'y': 8}, {'x': 7, 'y': 8}, {'x': 8, 'y': 8}, {'x': 9, 'y': 8}, {'x': 10, 'y': 8}, {'x': 10, 'y': 7}, {'x': 10, 'y': 6}, {'x': 10, 'y': 5}, {'x': 10, 'y': 4}, {'x': 10, 'y': 3}, {'x': 10, 'y': 2}, {'x': 10, 'y': 1}, {'x': 10, 'y': 0}], 'head': {'x': 6, 'y': 10}, 'length': 21, 'food_eaten': None}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["down"]

    game_state = {"game":{"id":"940565","ruleset":{"name":"standard","version":"v.1.2.3"},"timeout":500},"turn":200,"you":{"health":100,"id":"you","name":"#22aa34","body":[{"x":10,"y":9},{"x":9,"y":9},{"x":8,"y":9},{"x":7,"y":9},{"x":6,"y":9},{"x":5,"y":9},{"x":4,"y":9},{"x":3,"y":9},{"x":2,"y":9},{"x":1,"y":9},{"x":0,"y":9},{"x":0,"y":8},{"x":0,"y":7},{"x":0,"y":6},{"x":0,"y":5},{"x":0,"y":4},{"x":1,"y":4},{"x":1,"y":5},{"x":1,"y":6}],"head":{"x":10,"y":9},"length":19},"board":{"food":[{"x":9,"y":2},{"x":2,"y":0}],"height":11,"width":11,"snakes":[{"health":100,"id":"you","name":"#22aa34","body":[{"x":10,"y":9},{"x":9,"y":9},{"x":8,"y":9},{"x":7,"y":9},{"x":6,"y":9},{"x":5,"y":9},{"x":4,"y":9},{"x":3,"y":9},{"x":2,"y":9},{"x":1,"y":9},{"x":0,"y":9},{"x":0,"y":8},{"x":0,"y":7},{"x":0,"y":6},{"x":0,"y":5},{"x":0,"y":4},{"x":1,"y":4},{"x":1,"y":5},{"x":1,"y":6}],"head":{"x":10,"y":9},"length":19},{"health":100,"id":"#FFc6c7","name":"#FFc6c7","body":[{"x":8,"y":7},{"x":8,"y":8},{"x":7,"y":8},{"x":7,"y":7},{"x":6,"y":7},{"x":5,"y":7},{"x":5,"y":6},{"x":5,"y":5},{"x":5,"y":4},{"x":5,"y":3},{"x":4,"y":3},{"x":3,"y":3},{"x":2,"y":3},{"x":1,"y":3},{"x":1,"y":2},{"x":2,"y":2},{"x":3,"y":2},{"x":4,"y":2},{"x":5,"y":2},{"x":5,"y":1},{"x":6,"y":1},{"x":6,"y":2},{"x":6,"y":3},{"x":7,"y":3},{"x":8,"y":3}],"head":{"x":8,"y":7},"length":25}]}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]


def test_space():
    # Prioritise more space
    game_state = {"game":{"id":"b71bf7c8-36a9-47ca-b269-f512597a2527","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":28,"board":{"height":11,"width":11,"snakes":[{"id":"e82444ff-0970-4b12-b65f-a6336f5a32cc","name":"Rick2","latency":"137","health":98,"body":[{"x":5,"y":7},{"x":5,"y":6},{"x":4,"y":6},{"x":4,"y":5},{"x":4,"y":4},{"x":4,"y":3}],"head":{"x":5,"y":7},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}},{"id":"bd22d84f-5c11-4cb2-96e9-5867ec8b59db","name":"Glynn","latency":"44","health":72,"body":[{"x":7,"y":7},{"x":8,"y":7},{"x":8,"y":8}],"head":{"x":7,"y":7},"length":3,"shout":"","squad":"","customizations":{"color":"#6600ff","head":"all-seeing","tail":"weight"}},{"id":"8cb70727-46d9-4b4c-a5be-d5b2a4bf753e","name":"Jesse","latency":"25","health":78,"body":[{"x":6,"y":8},{"x":5,"y":8},{"x":5,"y":9},{"x":6,"y":9}],"head":{"x":6,"y":8},"length":4,"shout":"","squad":"","customizations":{"color":"#E04C07","head":"missile","tail":"nr-booster"}},{"id":"091cc519-8e82-4b29-bc00-1d08b0c5489e","name":"Nightwing","latency":"103","health":96,"body":[{"x":0,"y":8},{"x":1,"y":8},{"x":1,"y":9},{"x":2,"y":9},{"x":2,"y":8},{"x":3,"y":8},{"x":3,"y":7},{"x":3,"y":6}],"head":{"x":0,"y":8},"length":8,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"478b4690-3f18-4846-af95-e0d96b894b32","name":"Rick","latency":"135","health":92,"body":[{"x":2,"y":4},{"x":2,"y":3},{"x":2,"y":2},{"x":2,"y":1},{"x":2,"y":0},{"x":3,"y":0},{"x":4,"y":0},{"x":5,"y":0}],"head":{"x":2,"y":4},"length":8,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}}],"food":[{"x":4,"y":10},{"x":5,"y":10}],"hazards":[]},"you":{"id":"e9c795aa-9235-4b12-9325-a449cc75b19f","name":"Matt2","latency":"258","health":90,"body":[{"x":10,"y":8},{"x":9,"y":8},{"x":8,"y":8}],"head":{"x":10,"y":8},"length":3,"shout":"","squad":"","customizations":{"color":"#1f9490","head":"default","tail":"default"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]

    # Don't need food
    game_state={"game":{"id":"05c3c37b-4861-476a-bbc2-b0ce4d30a8af","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":45,"board":{"height":11,"width":11,"snakes":[{"id":"8e6c3427-ebf7-49ed-9b23-700342aef7f6","name":"JonK3","latency":"26","health":90,"body":[{"x":8,"y":3},{"x":7,"y":3},{"x":7,"y":4},{"x":7,"y":5},{"x":7,"y":6},{"x":7,"y":7},{"x":7,"y":8}],"head":{"x":8,"y":3},"length":7,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"2d41193c-8534-400f-9717-d4ee9272ea4f","name":"Rick4","latency":"158","health":87,"body":[{"x":9,"y":2},{"x":8,"y":2},{"x":7,"y":2},{"x":7,"y":1},{"x":6,"y":1}],"head":{"x":9,"y":2},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}},{"id":"9110ff66-e559-46ce-9a35-63628ba2ac2b","name":"Nightwing","latency":"72","health":99,"body":[{"x":1,"y":2},{"x":1,"y":3},{"x":0,"y":3},{"x":0,"y":4},{"x":0,"y":5},{"x":0,"y":6},{"x":0,"y":7},{"x":1,"y":7},{"x":1,"y":8}],"head":{"x":1,"y":2},"length":9,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"571a52e2-2e02-4b77-91f2-e8ad7af0c2f1","name":"Rick","latency":"151","health":78,"body":[{"x":3,"y":4},{"x":3,"y":5},{"x":3,"y":6},{"x":3,"y":7},{"x":3,"y":8},{"x":4,"y":8}],"head":{"x":3,"y":4},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}},{"id":"4e3cc686-d592-40c1-bd25-3be41bccd872","name":"Rick2","latency":"114","health":94,"body":[{"x":6,"y":3},{"x":6,"y":4},{"x":6,"y":5},{"x":6,"y":6},{"x":5,"y":6},{"x":4,"y":6},{"x":4,"y":5},{"x":4,"y":4}],"head":{"x":6,"y":3},"length":8,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}}],"food":[{"x":0,"y":0}],"hazards":[]},"you":{"id":"571a52e2-2e02-4b77-91f2-e8ad7af0c2f1","name":"Rick","latency":"151","health":78,"body":[{"x":3,"y":4},{"x":3,"y":5},{"x":3,"y":6},{"x":3,"y":7},{"x":3,"y":8},{"x":4,"y":8}],"head":{"x":3,"y":4},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]

    # Don't go and die
    game_state={"game":{"id":"84eb7f1c-2027-417b-baf7-2f776ed2db41","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":190,"board":{"height":11,"width":11,"snakes":[{"id":"d5b4e8ab-2b61-4957-8436-395dbaad78e2","name":"Nightwing","latency":"198","health":100,"body":[{"x":0,"y":8},{"x":1,"y":8},{"x":2,"y":8},{"x":3,"y":8},{"x":3,"y":7},{"x":4,"y":7},{"x":5,"y":7},{"x":6,"y":7},{"x":7,"y":7},{"x":7,"y":6},{"x":7,"y":5},{"x":8,"y":5},{"x":8,"y":6},{"x":8,"y":6}],"head":{"x":0,"y":8},"length":14,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"c04d0e8f-2e84-4206-8f08-d68b59f9d6b6","name":"JonK","latency":"17","health":100,"body":[{"x":0,"y":4},{"x":1,"y":4},{"x":2,"y":4},{"x":3,"y":4},{"x":4,"y":4},{"x":4,"y":3},{"x":4,"y":2},{"x":5,"y":2},{"x":6,"y":2},{"x":7,"y":2},{"x":8,"y":2},{"x":9,"y":2},{"x":10,"y":2},{"x":10,"y":1},{"x":10,"y":0},{"x":9,"y":0},{"x":8,"y":0},{"x":7,"y":0},{"x":6,"y":0},{"x":5,"y":0},{"x":4,"y":0},{"x":4,"y":1},{"x":4,"y":1}],"head":{"x":0,"y":4},"length":23,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":9,"y":10},{"x":0,"y":5}],"hazards":[]},"you":{"id":"a9e1996e-6e0a-4f07-bb79-ecb08b9797b8","name":"Einar","latency":"174","health":76,"body":[{"x":3,"y":10},{"x":4,"y":10},{"x":5,"y":10},{"x":6,"y":10},{"x":7,"y":10},{"x":8,"y":10},{"x":9,"y":10},{"x":10,"y":10},{"x":10,"y":9}],"head":{"x":3,"y":10},"length":9,"shout":"","squad":"","customizations":{"color":"#4A412A","head":"shades","tail":"sharp"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["up"]

    # Die and go towards space
    game_state={"game":{"id":"98982308-3d2e-4a65-b2a1-a9761244b3f7","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":10,"board":{"height":11,"width":11,"snakes":[{"id":"4abe935b-6c17-4ed6-a5f6-3771ccb7f76d","name":"JonK","latency":"34","health":98,"body":[{"x":7,"y":5},{"x":7,"y":4},{"x":7,"y":3},{"x":6,"y":3},{"x":6,"y":2}],"head":{"x":7,"y":5},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"3c7fccd0-9941-4ac1-a13d-32053de18d4e","name":"JonK3","latency":"34","health":92,"body":[{"x":3,"y":7},{"x":3,"y":6},{"x":3,"y":5},{"x":2,"y":5}],"head":{"x":3,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"dfd1a2c5-5e42-45e1-878e-218f9d236ae6","name":"Rick4","latency":"136","health":94,"body":[{"x":6,"y":6},{"x":6,"y":5},{"x":5,"y":5},{"x":5,"y":4}],"head":{"x":6,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"60cc440d-c9ab-4ea9-8fce-9c7f99cf5ae7","name":"Nightwing","latency":"41","health":92,"body":[{"x":8,"y":6},{"x":8,"y":7},{"x":7,"y":7},{"x":7,"y":6}],"head":{"x":8,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"14fbdbc8-f664-4757-a415-2f165ff8b4c5","name":"Rick","latency":"291","health":92,"body":[{"x":0,"y":2},{"x":1,"y":2},{"x":2,"y":2},{"x":3,"y":2}],"head":{"x":0,"y":2},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"dc1d1a92-cb24-4977-b3ae-2524206918ed","name":"JonK2","latency":"36","health":92,"body":[{"x":9,"y":5},{"x":9,"y":4},{"x":9,"y":3},{"x":8,"y":3}],"head":{"x":9,"y":5},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"309615f1-b098-49b5-b14f-bfec274685e7","name":"Rick2","latency":"291","health":96,"body":[{"x":6,"y":8},{"x":7,"y":8},{"x":7,"y":9},{"x":7,"y":10},{"x":6,"y":10}],"head":{"x":6,"y":8},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"9b67cfde-0014-4139-867d-46c9fc2a0931","name":"Rick3","latency":"143","health":92,"body":[{"x":10,"y":8},{"x":9,"y":8},{"x":9,"y":9},{"x":8,"y":9}],"head":{"x":10,"y":8},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}],"food":[{"x":0,"y":7},{"x":1,"y":0}],"hazards":[]},"you":{"id":"60cc440d-c9ab-4ea9-8fce-9c7f99cf5ae7","name":"Nightwing","latency":"41","health":92,"body":[{"x":8,"y":6},{"x":8,"y":7},{"x":7,"y":7},{"x":7,"y":6}],"head":{"x":8,"y":6},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move in ["right"]

    # Don't bunch up in the corner
    game_state = {"game":{"id":"87e99a13-c0d5-46a3-a9d7-c23b52f95c9f","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":55,"board":{"height":11,"width":11,"snakes":[{"id":"23bcc71a-93d3-49f4-af51-5f8aaabc986c","name":"Rick2","latency":"147","health":86,"body":[{"x":6,"y":5},{"x":7,"y":5},{"x":7,"y":4},{"x":7,"y":3},{"x":6,"y":3},{"x":5,"y":3}],"head":{"x":6,"y":5},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"fe6848ff-7177-4baf-8579-0c07c8897da9","name":"Rick3","latency":"151","health":84,"body":[{"x":9,"y":10},{"x":8,"y":10},{"x":7,"y":10},{"x":6,"y":10},{"x":6,"y":9},{"x":7,"y":9}],"head":{"x":9,"y":10},"length":6,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"d2aadc28-a140-486d-a250-1104ecfffb4f","name":"JonK","latency":"27","health":90,"body":[{"x":2,"y":1},{"x":3,"y":1},{"x":3,"y":2},{"x":3,"y":3},{"x":3,"y":4},{"x":2,"y":4},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":4}],"head":{"x":2,"y":1},"length":10,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"ef379848-fc61-4016-b3ac-f6bcdf81d78b","name":"Nightwing","latency":"124","health":92,"body":[{"x":2,"y":7},{"x":2,"y":8},{"x":2,"y":9},{"x":2,"y":10},{"x":3,"y":10},{"x":3,"y":9}],"head":{"x":2,"y":7},"length":6,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"1039847c-1003-41a6-82f6-a1b19d9313a5","name":"JonK2","latency":"25","health":95,"body":[{"x":6,"y":1},{"x":7,"y":1},{"x":8,"y":1},{"x":9,"y":1},{"x":10,"y":1},{"x":10,"y":2},{"x":10,"y":3},{"x":10,"y":4},{"x":10,"y":5}],"head":{"x":6,"y":1},"length":9,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":0,"y":1}],"hazards":[]},"you":{"id":"d2aadc28-a140-486d-a250-1104ecfffb4f","name":"JonK","latency":"27","health":90,"body":[{"x":2,"y":1},{"x":3,"y":1},{"x":3,"y":2},{"x":3,"y":3},{"x":3,"y":4},{"x":2,"y":4},{"x":2,"y":5},{"x":1,"y":5},{"x":0,"y":5},{"x":0,"y":4}],"head":{"x":2,"y":1},"length":10,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}}
    next_move = Battlesnake(game_state).optimal_move()
    assert next_move not in ["left"]



# def test_duration():
#     # Takes so long
#     game_state = {"game":{"id":"1940ebec-c2f4-472e-96db-ad5e659b4f7d","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":14,"board":{"height":11,"width":11,"snakes":[{"id":"262d660a-3a3b-4e78-994f-5561814d9eb1","name":"ricksnek2","latency":"131","health":90,"body":[{"x":5,"y":3},{"x":6,"y":3},{"x":7,"y":3},{"x":7,"y":4}],"head":{"x":5,"y":3},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}},{"id":"7bb6b728-6e52-45c9-adeb-fc103c09d5f7","name":"Nightwing","latency":"513","health":96,"body":[{"x":2,"y":4},{"x":3,"y":4},{"x":4,"y":4},{"x":5,"y":4},{"x":5,"y":5}],"head":{"x":2,"y":4},"length":5,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"d14b067d-9758-4a50-9f49-03af72175426","name":"ricksnek","latency":"119","health":88,"body":[{"x":5,"y":9},{"x":5,"y":8},{"x":6,"y":8},{"x":6,"y":7}],"head":{"x":5,"y":9},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"caffeine","tail":"coffee"}}],"food":[{"x":0,"y":9},{"x":8,"y":2}],"hazards":[]},"you":{"id":"7bb6b728-6e52-45c9-adeb-fc103c09d5f7","name":"Nightwing","latency":"513","health":96,"body":[{"x":2,"y":4},{"x":3,"y":4},{"x":4,"y":4},{"x":5,"y":4},{"x":5,"y":5}],"head":{"x":2,"y":4},"length":5,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}}}
#     clock_in = time.time_ns()
#     next_move = Battlesnake(game_state).optimal_move()
#     total_time = round((time.time_ns() - clock_in) / 1000000, 3)
#     assert total_time < 150, f"Runtime took {total_time}"
