from snake_engine import *

game_state={"game":{"id":"d07d4832-3fbc-4df7-bc1f-84909baa01a2","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":8,"board":{"height":11,"width":11,"snakes":[{"id":"794984a9-316f-437a-a5e7-123afa1799b9","name":"Rick2","latency":"150","health":98,"body":[{"x":3,"y":1},{"x":2,"y":1},{"x":2,"y":0},{"x":1,"y":0}],"head":{"x":3,"y":1},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"a8d162b1-df10-4523-829b-6c751989810c","name":"Rick3","latency":"212","health":100,"body":[{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":10,"y":9}],"head":{"x":10,"y":6},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"c653eaec-5707-482a-abf2-702d6ba76fd7","name":"JonK","latency":"22","health":96,"body":[{"x":5,"y":1},{"x":4,"y":1},{"x":4,"y":0},{"x":5,"y":0},{"x":6,"y":0}],"head":{"x":5,"y":1},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"bbf93a5d-e566-49dd-81f6-3bea14ecc43e","name":"JonK3","latency":"21","health":98,"body":[{"x":0,"y":8},{"x":0,"y":9},{"x":1,"y":9},{"x":1,"y":8},{"x":2,"y":8}],"head":{"x":0,"y":8},"length":5,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"5c1999e6-c1be-4593-839a-4c50cd971c20","name":"Rick4","latency":"199","health":100,"body":[{"x":5,"y":5},{"x":5,"y":4},{"x":5,"y":3},{"x":5,"y":3}],"head":{"x":5,"y":5},"length":4,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"86b77068-eaf5-46ff-a934-be44318ca9ba","name":"Nightwing","latency":"480","health":94,"body":[{"x":7,"y":7},{"x":7,"y":8},{"x":8,"y":8},{"x":8,"y":9}],"head":{"x":7,"y":7},"length":4,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"d4972a83-7849-4d3f-be9b-1208252347df","name":"Rick","latency":"221","health":92,"body":[{"x":9,"y":5},{"x":9,"y":6},{"x":8,"y":6}],"head":{"x":9,"y":5},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"f1a83c20-e9c4-4bec-9502-0290ad260bae","name":"JonK2","latency":"21","health":94,"body":[{"x":1,"y":3},{"x":1,"y":2},{"x":2,"y":2},{"x":2,"y":3}],"head":{"x":1,"y":3},"length":4,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":0,"y":5}],"hazards":[]},"you":{"id":"a8d162b1-df10-4523-829b-6c751989810c","name":"Rick3","latency":"212","health":100,"body":[{"x":10,"y":6},{"x":10,"y":7},{"x":10,"y":8},{"x":10,"y":9},{"x":10,"y":9}],"head":{"x":10,"y":6},"length":5,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}
game_state = {"game":{"id":"0562c8b6-3e8e-4bd1-b73f-5b32b80e8ebb","ruleset":{"name":"standard","version":"cli","settings":{"foodSpawnChance":15,"minimumFood":1,"hazardDamagePerTurn":14,"hazardMap":"","hazardMapAuthor":"","royale":{"shrinkEveryNTurns":25},"squad":{"allowBodyCollisions":False,"sharedElimination":False,"sharedHealth":False,"sharedLength":False}}},"map":"standard","timeout":500,"source":""},"turn":0,"board":{"height":19,"width":19,"snakes":[{"id":"bd7a5d89-557a-45e6-b5e5-95297e3d16a1","name":"JonK3","latency":"0","health":100,"body":[{"x":9,"y":1},{"x":9,"y":1},{"x":9,"y":1}],"head":{"x":9,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"a7c148df-a81e-4a1c-9a40-fae6e1491cf5","name":"Rick4","latency":"0","health":100,"body":[{"x":9,"y":17},{"x":9,"y":17},{"x":9,"y":17}],"head":{"x":9,"y":17},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"67bf1c03-4215-4c9f-80c0-1281c90c8f9f","name":"Nightwing","latency":"0","health":100,"body":[{"x":1,"y":9},{"x":1,"y":9},{"x":1,"y":9}],"head":{"x":1,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#3333ff","head":"ski","tail":"mystic-moon"}},{"id":"6cf995a2-9a39-45b7-b3a6-2f488e017519","name":"Rick","latency":"0","health":100,"body":[{"x":17,"y":9},{"x":17,"y":9},{"x":17,"y":9}],"head":{"x":17,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"c6dace83-618f-48dc-a687-b9386ba8d0a9","name":"JonK2","latency":"0","health":100,"body":[{"x":17,"y":17},{"x":17,"y":17},{"x":17,"y":17}],"head":{"x":17,"y":17},"length":3,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}},{"id":"52c6788f-f16d-4eb6-be54-3d519653433d","name":"Rick2","latency":"0","health":100,"body":[{"x":17,"y":1},{"x":17,"y":1},{"x":17,"y":1}],"head":{"x":17,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"a87a559d-5181-4dd0-bd4a-ca8d3c484133","name":"Rick3","latency":"0","health":100,"body":[{"x":1,"y":17},{"x":1,"y":17},{"x":1,"y":17}],"head":{"x":1,"y":17},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}},{"id":"d216ffb3-908b-479f-99c3-7ffaba9da8aa","name":"JonK","latency":"0","health":100,"body":[{"x":1,"y":1},{"x":1,"y":1},{"x":1,"y":1}],"head":{"x":1,"y":1},"length":3,"shout":"","squad":"","customizations":{"color":"#B7410E","head":"sleepy","tail":"offroad"}}],"food":[{"x":10,"y":0},{"x":10,"y":18},{"x":0,"y":8},{"x":18,"y":8},{"x":16,"y":18},{"x":18,"y":2},{"x":2,"y":18},{"x":2,"y":0},{"x":9,"y":9}],"hazards":[]},"you":{"id":"6cf995a2-9a39-45b7-b3a6-2f488e017519","name":"Rick","latency":"0","health":100,"body":[{"x":17,"y":9},{"x":17,"y":9},{"x":17,"y":9}],"head":{"x":17,"y":9},"length":3,"shout":"","squad":"","customizations":{"color":"#00ff00","head":"shark","tail":"coffee"}}}


clock_in = time.time_ns()
game = Battlesnake(game_state, debugging=False)
print(game.optimal_move())
print(f"Done in {round((time.time_ns() - clock_in) / 1000000, 3)} ms")


import cProfile, pstats
profiler = cProfile.Profile()
profiler.enable()
game.optimal_move()
profiler.disable()
stats = pstats.Stats(profiler).sort_stats('tottime')
stats.print_stats()
print("\n\n")
stats = pstats.Stats(profiler).sort_stats('cumtime')
stats.print_stats()
# import timeit
# start = timeit.default_timer()
# print("The start time is :", start)
# next_move = game.flood_fill(game.my_id, confined_area="left")
# print("The difference of time is :",
#               timeit.default_timer() - start)
